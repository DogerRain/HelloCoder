JVM的垃圾回收器，似乎是每次面试都必问的，对垃圾回收器的掌握程度、可以区分一个一年和三年工作经验的程序员。

你对垃圾回收器熟悉，说明你知道：

- 项目使用的垃圾回收器
- 这种垃圾回收器的特点
- JVM的参数
- GC的情况



常见的垃圾回收器如下：

| **收集器**            | **串行/并行/并发** | **收集目标**  | **算法**  | **优点**                      | **缺点**           |
| --------------------- | ------------------ | ------------- | --------- | ----------------------------- | ------------------ |
| **Serial New**        | 串行               | 新生代        | 复制      | 单CPU下效率高                 | 产生较长时间的停顿 |
| **Serial Old**        | 串行               | 老年代        | 标记-整理 | 单CPU下效率高                 | 产生较长时间的停顿 |
| **Parallel New**      | 并行               | 新生代        | 复制      | 单CPU下效率高，可设置可控参数 | 产生较长时间的停顿 |
| **Parallel Scavenge** | 并行               | 老年代        | 复制      | 最高效率的利用CPU，高吞吐     | 产生较长时间的停顿 |
| **Parallel Old**      | 并行               | 老年代        | 标记-整理 | 多CPU下效率高                 | 产生较长时间的停顿 |
| **CMS**               | 并发               | 老年代        | 标记-清除 | 最小的停顿时间                | 容易产生内存碎片   |
| **G1**                | 并发               | 新生代+老年代 | 标记-整理 | 空间整合，解决内存碎片问题    |                    |



## 1、并发垃圾收集和并行垃圾收集的区别

（A）、并行（Parallel）

​    指多条垃圾收集线程并行工作，但此时用户线程仍然处于等待状态；

​    如ParNew、Parallel Scavenge、Parallel Old；

（B）、并发（Concurrent）

​    指**用户线程与垃圾收集线程同时执行**（但不一定是并行的，可能会交替执行）；

   用户程序在继续运行，而垃圾收集程序线程运行于另一个CPU上；  

​    如CMS、G1（也有并行）；

## 2、Minor GC和Full GC的区别

（A）、Minor GC

​    又称新生代GC，指发生在**新生代**（包括 Eden 和 Survivor 区域）的垃圾收集动作；

​    因为Java对象大多是朝生夕灭，所以Minor GC非常频繁，一般回收速度也比较快；

（B）、Full GC

​    又称老年代GC，指发生在**老年代**的GC；

​    出现Full GC经常会伴随至少一次的Minor GC；

   Full GC速度一般比Minor GC慢10倍以上；



## 3、Full GC触发机制是什么

（1）调用System.gc时，系统建议执行Full GC，但是不必然执行

（2）老年代空间不足

（3）方法区空间不足

（4）通过Minor GC后进入老年代的平均大小大于老年代的可用内存

（5）由Eden区、survivor space1（From Space）区向survivor space2（To Space）区复制时，对象大小大于To Space可用内存，则把该对象转存到老年代，且该对象大于老年代的可用内存时。



4、