(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{442:function(s,a,t){"use strict";t.r(a);var r=t(7),n=Object(r.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"_1、-常用的linux命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、-常用的linux命令"}},[s._v("#")]),s._v(" 1、 常用的Linux命令")]),s._v(" "),a("h4",{attrs:{id:"_1-文件操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-文件操作"}},[s._v("#")]),s._v(" 1）文件操作")]),s._v(" "),a("p",[s._v("cat、vi、vim、ls、mkdir、touch 、cp、mv")]),s._v(" "),a("p",[s._v("查找是否存在该文件名：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" / -name mysql \n")])])]),a("p",[s._v("cat：一次性显示文件内容")]),s._v(" "),a("h4",{attrs:{id:"_2-日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-日志"}},[s._v("#")]),s._v(" 2）日志")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("tail "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MOB_logs")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("catalina"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("05")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.")]),s._v("out \n")])])]),a("p",[s._v("抓取关键字：")]),s._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("cat catalina"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("03")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" grep "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"返回respData"')]),s._v("\n")])])]),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("grep "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"返回respData"')]),s._v(" catalina"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("06")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.")]),s._v("out\n")])])]),a("h4",{attrs:{id:"_3-解压"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-解压"}},[s._v("#")]),s._v(" 3）解压")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("tar "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("zxvf filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gz\n")])])]),a("h4",{attrs:{id:"_4-查找进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-查找进程"}},[s._v("#")]),s._v(" 4）查找进程")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("ps "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("aux"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("grep java\n")])])]),a("h4",{attrs:{id:"_5-系统、内存、磁盘、网络相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-系统、内存、磁盘、网络相关"}},[s._v("#")]),s._v(" 5) 系统、内存、磁盘、网络相关")]),s._v(" "),a("p",[s._v("​\ttop 查看内存、cpu情况")]),s._v(" "),a("p",[s._v("​\tdu、df 查看磁盘、文件大小")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("du "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("h "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n")])])]),a("p",[s._v("​\tping、curl 查看网络是否正常")]),s._v(" "),a("h4",{attrs:{id:"_6-权限相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-权限相关"}},[s._v("#")]),s._v(" 6）权限相关")]),s._v(" "),a("p",[s._v("chmod：修改文件的权限")]),s._v(" "),a("p",[s._v("chown：即"),a("strong",[s._v("change owner")]),s._v("，修改文件和目录的所有者权限")]),s._v(" "),a("p",[s._v("chattr：chmod的底层操作，锁定文件")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://blog-1253198264.cos.ap-guangzhou.myqcloud.com/image-20210104215503268.png",alt:""}})]),s._v(" "),a("h2",{attrs:{id:"_2、-系统缓慢的原因-或者突然很卡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、-系统缓慢的原因-或者突然很卡"}},[s._v("#")]),s._v(" 2、 系统缓慢的原因，或者突然很卡")]),s._v(" "),a("ul",[a("li",[s._v("Full GC次数过多")]),s._v(" "),a("li",[s._v("CPU 过高")]),s._v(" "),a("li",[s._v("接口耗时、HTTP请求过多，响应慢。（比较经典）")]),s._v(" "),a("li",[s._v("死锁（Blocke）")]),s._v(" "),a("li",[s._v("某个线程进入WAITTING，sleep、wait时间过长，假死。")])]),s._v(" "),a("p",[s._v("CPU 过高、Full GC次数过多、内存使用过多、硬盘空间不足等问题，都会带来系统突然运行缓慢的问题，也是面试特别容易被问到的，下面针对系统运行缓慢等问题进行展开。")]),s._v(" "),a("h4",{attrs:{id:"这又引申出两个问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#这又引申出两个问题"}},[s._v("#")]),s._v(" 这又引申出两个问题：")]),s._v(" "),a("p",[s._v("CPU利用率和负载的问题。")]),s._v(" "),a("p",[a("strong",[s._v("CPU利用率")]),s._v("显示的是程序在运行期间实时占用的CPU百分比；cpu使用率反映的是当前cpu的繁忙程度，忽高忽低的原因在于占用cpu处理时间的进程可能处于io等待状态但却还未释放进入wait。")]),s._v(" "),a("p",[a("strong",[s._v("CPU负载")]),s._v("是指某段时间内占用cpu时间的进程和等待cpu时间的进程数，这里等待cpu时间的进程是指等待被唤醒的进程，不包括处于wait状态进程。")]),s._v(" "),a("blockquote",[a("p",[s._v("CPU利用率高，并不意味着CPU的负载大。两者之间没有必然的关系。")])]),s._v(" "),a("p",[a("strong",[s._v("CPU负载很高怎么办？")])]),s._v(" "),a("p",[s._v("可以通过 "),a("code",[s._v("ps -axjf")]),s._v("查看"),a("code",[s._v("STAT")]),s._v("这一列是否存在 D 状态进程")]),s._v(" "),a("p",[s._v("比如：")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("centos proc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# ps "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("axjf\n PPID   PID  PGID   SID TTY      TPGID STAT   UID   TIME COMMAND\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("D")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("kthreadd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("  \\_ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("kworker"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("H"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("D")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("  \\_ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ksoftirqd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("  \\_ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("migration"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("blockquote",[a("p",[s._v("D 状态是指不可中断的睡眠状态。该状态的进程无法被 kill，也无法自行退出。只能通过恢复其依赖的资源或者重启系统来解决。")])]),s._v(" "),a("p",[s._v("负载高，好比节假日的高速公路堵车，马路都是车，已经阻塞了，收费站外面还有很多车在等着，解决方法就是多建一条高速公路，提升服务器的硬件性能，或者找出I/O等待的任务，手动处理。")]),s._v(" "),a("p",[s._v("负载高常见的原因有：")]),s._v(" "),a("ul",[a("li",[s._v("磁盘读写请求过多")]),s._v(" "),a("li",[s._v("MySQL死锁或者查询返回慢")]),s._v(" "),a("li",[s._v("硬盘故障，读写请求获取不到资源")])]),s._v(" "),a("p",[s._v("如果CPU很高，请看下面：")]),s._v(" "),a("h2",{attrs:{id:"_3、-线上-cpu-爆高-接近100-怎么排查"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、-线上-cpu-爆高-接近100-怎么排查"}},[s._v("#")]),s._v(" 3、 线上 CPU 爆高  接近100%，怎么排查？")]),s._v(" "),a("h4",{attrs:{id:"_1-使用-top-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-使用-top-命令"}},[s._v("#")]),s._v(" 1）使用 "),a("code",[s._v("top")]),s._v(" 命令")]),s._v(" "),a("p",[s._v("然后键盘按 1  表示进入第1个CPU（如果是多核需要分别查看不同的CPU）")]),s._v(" "),a("p",[s._v("演示：")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("centos "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# top\ntop "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" up  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("54")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  load average"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.73")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.70")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.71")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Tasks")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("95")]),s._v(" total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" running"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("94")]),s._v(" sleeping"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" stopped"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" zombie\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Cpu")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50.0")]),s._v(" us"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50.0")]),s._v(" sy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" ni"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" wa"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" hi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" si"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" st\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("KiB")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Mem")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1882056")]),s._v(" total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("69588")]),s._v(" free"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1255116")]),s._v(" used"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("557352")]),s._v(" buff"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cache\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("KiB")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Swap")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" free"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" used"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("478816")]),s._v(" avail "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Mem")]),s._v("\n\n  PID USER      PR  NI    VIRT    RES    SHR "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("CPU "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("MEM     TIME"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" COMMAND\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1953")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101080")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2248")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1732")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("01.89")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("YDLive")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2310")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2369316")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("246988")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13760")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22.47")]),s._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5082")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("154808")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10500")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3248")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.14")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("YDService")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("43444")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3872")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2580")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("01.27")]),s._v(" systemd\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.00")]),s._v(" kthreadd\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" root       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.00")]),s._v(" kworker"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("H\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.07")]),s._v(" kworker"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("u2"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.02")]),s._v(" ksoftirqd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" root      rt   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.00")]),s._v(" migration"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n")])])]),a("p",[s._v("看到右上角：")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("load average"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.73")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.70")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.71")]),s._v("\n")])])]),a("p",[s._v("— "),a("code",[s._v("load average")]),s._v("后面的三个数分别是1分钟、5分钟、15分钟的负载情况。 指的是处于可运行状态和不可中断状态的平均进程数。数字越大，CPU负载越大。")]),s._v(" "),a("p",[s._v("如果 小于 "),a("code",[s._v("CPU数 * 每个CPU的核心数")]),s._v(" ， 则表示负载是合理的，比如上面我的服务器 CPU 是1个，只有1个核心，那么现在1.7的负载大于1，就很不合理了，证明有很多任务在等待中。")]),s._v(" "),a("p",[a("strong",[s._v("如何查CPU和CPU核心？")])]),s._v(" "),a("p",[s._v("查看CPU数目：")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("cat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("proc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cpuinfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" grep "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"model name"')]),s._v(" \n")])])]),a("p",[s._v("查看CPU核心：")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("cat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("proc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cpuinfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" grep "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cpu cores"')]),s._v("\n")])])]),a("p",[s._v("演示：")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("centos "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# cat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("proc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cpuinfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" grep "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"model name"')]),s._v("\nmodel name      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" AMD EPYC "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("K62 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Core")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Processor")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("centos "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# cat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("proc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cpuinfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" grep "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cpu cores"')]),s._v("\ncpu cores       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])])]),a("h4",{attrs:{id:"_2-键盘按下-x"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-键盘按下-x"}},[s._v("#")]),s._v(" 2）键盘按下 x")]),s._v(" "),a("p",[s._v("按下 x，就会把CPU使用情况排序，找到CPU过高的"),a("code",[s._v("pid")]),s._v("，以"),a("code",[s._v("pid 19505")]),s._v("为例，")]),s._v(" "),a("p",[s._v("然后看一下这个pid的线程情况：")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("ps "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("mp "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19505")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("o THREAD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("tid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("time   \n")])])]),a("p",[s._v("演示：")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM_0_12_centos")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# ps "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("mp "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19505")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("o THREAD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("tid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("time   \nUSER     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("CPU PRI SCNT WCHAN  USER SYSTEM   TID     TIME\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("04")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("03")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19505")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19507")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("08")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19508")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("01")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19509")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("47")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19510")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19511")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19512")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19513")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("07")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19514")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19515")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19516")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19517")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19518")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("01")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19519")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("01")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19520")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19521")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("02")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("05")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19539")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19540")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" futex_    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19576")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("05")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])])]),a("p",[s._v("或者使用以下命令")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("top "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Hp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19505")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  \n")])])]),a("p",[s._v("都是一样的，")]),s._v(" "),a("h4",{attrs:{id:"_3-把tid-线程id-转成-16进制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-把tid-线程id-转成-16进制"}},[s._v("#")]),s._v(" 3）把tid (线程id )转成  16进制")]),s._v(" "),a("p",[s._v("以 "),a("code",[s._v("tid 19507")]),s._v(" 为例")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("printf "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%x\\n"')]),s._v(" tid\n")])])]),a("p",[s._v("演示：")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM_0_12_centos")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# printf "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%x\\n"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19507")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("c33\n")])])]),a("p",[s._v("4）查看 tid 4c31 线程堆栈情况：")]),s._v(" "),a("p",[s._v("只查看前30行")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("jstack "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19505")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("grep tid "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("\n")])])]),a("p",[s._v("演示：")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM_0_12_centos")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# jstack "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19505")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("grep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("c33 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"DestroyJavaVM"')]),s._v(" #"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("36")]),s._v(" prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" os_prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x00007fbb3800a000")]),s._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x4c33")]),s._v(" waiting on condition "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x0000000000000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("State")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" RUNNABLE\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http-nio-8848-Acceptor-0"')]),s._v(" #"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),s._v(" daemon prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" os_prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x00007fbb3820e800")]),s._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x4cb2")]),s._v(" runnable "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x00007fbaff268000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("State")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" RUNNABLE\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("ServerSocketChannelImpl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("accept0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Native")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("ServerSocketChannelImpl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("accept")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServerSocketChannelImpl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("422")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("ServerSocketChannelImpl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("accept")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServerSocketChannelImpl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("250")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" locked "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("0x00000000f2a67c30"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tomcat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("NioEndpoint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("serverSocketAccept")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NioEndpoint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("448")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tomcat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("NioEndpoint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("serverSocketAccept")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NioEndpoint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tomcat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Acceptor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Acceptor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("95")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("748")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http-nio-8848-ClientPoller-0"')]),s._v(" #"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v(" daemon prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" os_prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x00007fbb38f21000")]),s._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x4cb1")]),s._v(" runnable "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x00007fbaff369000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("State")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" RUNNABLE\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("EPollArrayWrapper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("epollWait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Native")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("EPollArrayWrapper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("poll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EPollArrayWrapper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("269")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("EPollSelectorImpl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("doSelect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EPollSelectorImpl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("93")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("SelectorImpl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("lockAndDoSelect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SelectorImpl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("86")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" locked "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("0x00000000f2a67e60"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Util")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" locked "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("0x00000000f2a67e70"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Collections")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UnmodifiableSet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" locked "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("0x00000000f2a67e18"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("EPollSelectorImpl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("SelectorImpl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("select")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SelectorImpl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("97")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tomcat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("NioEndpoint")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Poller")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NioEndpoint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("743")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("748")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http-nio-8848-exec-10"')]),s._v(" #"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" daemon prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" os_prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x00007fbb38229800")]),s._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x4cb0")]),s._v(" waiting on condition "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x00007fbaff46a000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("State")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" WAITING "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("parking"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("misc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Unsafe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("park")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Native")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" parking "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("wait")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("0x00000000f2a68030"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("locks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("AbstractQueuedSynchronizer")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ConditionObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h2",{attrs:{id:"_4、-查看垃圾回收gc的情况-包括fullgc次数和耗时"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、-查看垃圾回收gc的情况-包括fullgc次数和耗时"}},[s._v("#")]),s._v(" 4、 查看垃圾回收GC的情况，包括fullGC次数和耗时")]),s._v(" "),a("h4",{attrs:{id:"_1-查看"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-查看"}},[s._v("#")]),s._v(" 1）查看")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ps -aux|grep java\n")])])]),a("p",[s._v("假如pid是19505")]),s._v(" "),a("h4",{attrs:{id:"_2-使用jstat-gc或者-jstat-gcutil-查看空间使用情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用jstat-gc或者-jstat-gcutil-查看空间使用情况"}},[s._v("#")]),s._v(" 2）使用"),a("code",[s._v("jstat -gc")]),s._v("或者 "),a("code",[s._v("jstat -gcutil")]),s._v(" 查看空间使用情况")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM_0_12_centos")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# jstat  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("gc "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19505")]),s._v("\n S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72704.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8192.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("57344.0")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45449.8")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("73168.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70119.8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8708.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8169.9")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("214")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.855")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.000")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.855")]),s._v("\n")])])]),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM_0_12_centos")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# jstat  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("gcutil "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19505")]),s._v("\n  S0     S1     "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("E")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("O")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("M")]),s._v("     CCS    YGC     YGCT    FGC    FGCT     GCT   \n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.68")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("79.26")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("95.83")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("93.82")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("214")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.855")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.000")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.855")]),s._v("\n")])])]),a("p",[s._v("参数解析")]),s._v(" "),a("blockquote",[a("p",[s._v("S0  — Heap上的 Survivor space 0 区已使用空间的百分比\nS1  — Heap上的 Survivor space 1 区已使用空间的百分比\nE  — Heap上的 Eden space 区已使用空间的百分比\nO  — Heap上的 Old space 区已使用空间的百分比\nP  — Perm space 区已使用空间的百分比\nYGC — 从应用程序启动到采样时发生 Young GC 的次数\nYGCT– 从应用程序启动到采样时 Young GC 所用的时间(单位秒)\nFGC — 从应用程序启动到采样时发生 Full GC 的次数\nFGCT– 从应用程序启动到采样时 Full GC 所用的时间(单位秒)\nGCT — 从应用程序启动到采样时用于垃圾回收的总时间(单位秒)")])]),s._v(" "),a("p",[a("strong",[s._v("上下文切换")])]),s._v(" "),a("p",[s._v("频繁上下文，会带来性能问题")]),s._v(" "),a("h2",{attrs:{id:"_5、查内存使用情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、查内存使用情况"}},[s._v("#")]),s._v(" 5、查内存使用情况")]),s._v(" "),a("p",[s._v("于Linux/Unix系统内存占用的百分比，无须过于关心，一般大于90%都是属于正常情况~")]),s._v(" "),a("p",[s._v("1）使用free查看内存使用情况")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM_0_12_centos")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("#  free "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("h\n              total        used        free      shared  buff"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cache   available\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Mem")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.8")]),s._v("G        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("862")]),s._v("M         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("69")]),s._v("M        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v("K        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("906")]),s._v("M        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("806")]),s._v("M\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Swap")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("B          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("B          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("B\n")])])]),a("p",[s._v("2）释放内存")]),s._v(" "),a("ul",[a("li",[s._v("先 执行 sync")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@VM_0_12_centos ~]# sync\n")])])]),a("p",[s._v("（描述：sync 命令运行 sync 子例程。如果必须停止系统，则运行sync 命令以确保文件系统的完整性。sync 命令将所有未写的系统缓冲区写到磁盘中，包含已修改的 i-node、已延迟的块 I/O 和读写映射文件）")]),s._v(" "),a("ul",[a("li",[s._v("修改"),a("code",[s._v("drop_caches")]),s._v(" 参数")])]),s._v(" "),a("p",[s._v("drop_caches的详细文档如下：")]),s._v(" "),a("p",[a("strong",[s._v("a")]),s._v("、"),a("code",[s._v("To free pagecache")]),s._v(":     清空 页面 高速缓存")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("echo 1 > /proc/sys/vm/drop_caches\n")])])]),a("p",[a("strong",[s._v("b")]),s._v("、"),a("code",[s._v("To free dentries and inodes")]),s._v(":    清空 目录项 和 索引节点")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("echo 2 > /proc/sys/vm/drop_caches\n")])])]),a("p",[a("strong",[s._v("c")]),s._v("、"),a("code",[s._v("To free pagecache, dentries and inodes")]),s._v(":    清空以上两项")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("echo 3 > /proc/sys/vm/drop_caches\n")])])]),a("p",[s._v("我这里演示试一下执行：")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("echo 3 > /proc/sys/vm/drop_caches\n")])])]),a("p",[s._v("然后再查看内存情况：")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM_0_12_centos")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# free "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("h\n              total        used        free      shared  buff"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cache   available\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Mem")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.8")]),s._v("G        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("862")]),s._v("M        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("904")]),s._v("M        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v("K         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("71")]),s._v("M        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("856")]),s._v("M\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Swap")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("B          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("B          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("B\n")])])]),a("p",[s._v("结果：free 和 available 变大了，buff/cache 变小了，有效的释放了buffer和cache。")]),s._v(" "),a("h2",{attrs:{id:"_6、-查硬盘使用情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、-查硬盘使用情况"}},[s._v("#")]),s._v(" 6、 查硬盘使用情况")]),s._v(" "),a("p",[s._v("df")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM_0_12_centos")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# df "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("hl\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Filesystem")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Size")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Used")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Avail")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Use")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Mounted")]),s._v(" on\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("vda1        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v("G   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v("G   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),s._v("G  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\ndevtmpfs        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("909")]),s._v("M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("909")]),s._v("M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev\ntmpfs           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("920")]),s._v("M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("920")]),s._v("M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("shm\ntmpfs           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("920")]),s._v("M  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("620")]),s._v("K  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("919")]),s._v("M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("run\ntmpfs           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("920")]),s._v("M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("920")]),s._v("M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sys"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("fs"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cgroup\ntmpfs           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("184")]),s._v("M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("184")]),s._v("M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("run"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])])]),a("p",[s._v("du")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM_0_12_centos")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# du "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("h heap \n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("147")]),s._v("M    heap\n")])])]),a("p",[s._v("非递归查目录大小，方便查看总体情况：")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM_0_12_centos")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("#  du "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("h "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("root\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.3")]),s._v("G    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("root\n")])])]),a("p",[s._v("知道目录的占用大小，就可以进行清理了。")]),s._v(" "),a("h2",{attrs:{id:"_7、-怎么杀死进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、-怎么杀死进程"}},[s._v("#")]),s._v(" 7、 怎么杀死进程？")]),s._v(" "),a("p",[s._v("一般情况下，终止一个前台进程使用 Ctrl + C 就可以了。对于一个后台进程就需要用 kill 命令来终止。\n我们会先使用 ps、top 等命令获得进程的 PID，然后使用 kill 命令来杀掉该进程。")]),s._v(" "),a("p",[s._v("例如：")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v(" ps "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("aux"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("grep java\n")])])]),a("p",[s._v("找到 java的线程id")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("kill "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3827")]),s._v("\n")])])]),a("h2",{attrs:{id:"_8、linux-vm内核参数优化设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8、linux-vm内核参数优化设置"}},[s._v("#")]),s._v(" 8、linux vm内核参数优化设置")]),s._v(" "),a("h4",{attrs:{id:"_1-cpu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-cpu"}},[s._v("#")]),s._v(" 1）CPU")]),s._v(" "),a("p",[s._v("使用 uptime查看CPU使用情况")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM_0_12_centos")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# uptime\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("03")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("41")]),s._v(" up "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("307")]),s._v(" days"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  load average"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.01")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.05")]),s._v("\n")])])]),a("p",[s._v("使用"),a("code",[s._v("vmstat")]),s._v("查看CPU使用状态")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM_0_12_centos")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# vmstat "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" \t#"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("秒打印一次，一共"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("次\nprocs "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("memory"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("swap"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("io"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("system"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("cpu"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\nr  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("131104")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("199740")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1341608")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("137")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("301")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("131104")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("199740")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1341612")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("162")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("342")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("131140")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("199740")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1341612")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("135")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("301")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("130892")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("199740")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1341616")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("188")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("463")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("130912")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("199740")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1341620")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("68")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("145")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("284")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])])]),a("p",[s._v("解释：")]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("procs列")])]),s._v(" "),a("p",[a("code",[s._v("r")]),s._v(": 运行队列长度和正在运行的线程数；")]),s._v(" "),a("p",[a("code",[s._v("b")]),s._v(": 表示睡眠进程的数量，即阻塞的进程数；")]),s._v(" "),a("p",[a("code",[s._v("swpd")]),s._v(": 虚拟内存已使用的大小，如果大于0，表示你的机器物理内存不足了，如果不是程序内存泄露的原因，那么你该升级内存了或者把耗内存的任务迁移到其他机器；")]),s._v(" "),a("p",[a("strong",[s._v("memory列")])]),s._v(" "),a("p",[a("code",[s._v("free")]),s._v(":空闲的物理内存的大小；")]),s._v(" "),a("p",[a("code",[s._v("buff")]),s._v(": 存储，目录里面的内容、权限等的缓存大小；")]),s._v(" "),a("p",[a("code",[s._v("cache")]),s._v(": 缓冲大小，值越大，命中缓冲几率越大，就不会经常读写磁盘；")]),s._v(" "),a("p",[a("strong",[s._v("swap列")])]),s._v(" "),a("p",[a("code",[s._v("si")]),s._v(": 每秒从磁盘读入虚拟内存的大小，如果这个值大于0，表示物理内存不够用或者内存泄露了，要查找耗内存进程解决掉。我的机器内存充裕，一切正常。")]),s._v(" "),a("p",[a("code",[s._v("so")]),s._v(": 每秒虚拟内存写入磁盘的大小，同上；")]),s._v(" "),a("p",[a("strong",[s._v("io列")])]),s._v(" "),a("p",[a("code",[s._v("bi")]),s._v(": 块设备每秒接收的块数量，这里的块设备是指系统上所有的磁盘和其他块设备，默认块大小是1024byte；")]),s._v(" "),a("p",[a("code",[s._v("bo")]),s._v(": 块设备每秒发送的块数量，例如我们读取文件，bo就要大于0。bi和bo一般都要接近0，不然就是IO过于频繁，IO等待时间也长，需要调整；")]),s._v(" "),a("p",[a("strong",[s._v("system列")])]),s._v(" "),a("p",[a("code",[s._v("in")]),s._v(": 每秒CPU的中断次数，包括时间中断；")]),s._v(" "),a("p",[a("code",[s._v("cs")]),s._v(": 每秒上下文切换次数 ;")]),s._v(" "),a("blockquote",[a("p",[s._v("这两个值越大，内核消耗的CPU时间会越大")])]),s._v(" "),a("p",[a("strong",[s._v("CPU列")])]),s._v(" "),a("p",[a("code",[s._v("us")]),s._v(": 用户进程执行时间(user time)，us的值比较高时，说明用户进程消耗的CPU时间多，长期高应检查程序")]),s._v(" "),a("p",[a("code",[s._v("sy")]),s._v(": 系统进程执行时间(system time)，sy的值高时，说明系统内核消耗的CPU资源多，长期高因检查系统")]),s._v(" "),a("p",[a("code",[s._v("id")]),s._v(": 空闲时间(包括IO等待时间)，中央处理器的空闲时间 。以百分比表示。")]),s._v(" "),a("p",[a("code",[s._v("wa")]),s._v(": 等待CPU的进程占用百分比")]),s._v(" "),a("p",[a("code",[s._v("st")]),s._v(": cpu在虚拟化环境上在其他占用的开销，可以理解为被抽走了多少cpu资源")])]),s._v(" "),a("h4",{attrs:{id:"_2-端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-端口"}},[s._v("#")]),s._v(" 2) 端口")]),s._v(" "),a("p",[s._v("只用关心"),a("code",[s._v("TIME_WAIT")]),s._v("的个数，Linux下可用端口的数量只有"),a("code",[s._v("65535")]),s._v("个，占用一个少一个，我们可以调整Linux的TCP内核参数，让系统更快的释放"),a("code",[s._v("TIME_WAIT")]),s._v("连接。")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM_0_12_centos")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# netstat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" awk '"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),s._v("tcp"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("$NF"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" END "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a in "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" print a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("'\nCLOSE_WAIT "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nESTABLISHED "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n")])])]),a("p",[s._v("修改：")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vim /etc/sysctl.conf\n")])])]),a("p",[s._v("修改3个参数：")]),s._v(" "),a("ol",[a("li",[a("p",[a("code",[s._v("net.ipv4.tcp_syncookies = 1")]),s._v("  表示开启SYN Cookies,当出现SYN等待队列溢出时,启用cookies来处理,可防范少量SYN攻击；默认为0,表示关闭")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("net.ipv4.tcp_tw_reuse = 1")]),s._v("   表示开启重用,允许将TIME-WAIT sockets重新用于新的TCP连接,默认为0,表示关闭")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("net.ipv4.tcp_tw_recycle = 1")]),s._v(" 表示开启TCP连接中TIME-WAIT sockets的快速回收,默认为0,表示关闭")])])]),s._v(" "),a("p",[s._v("查看可用端口范围：")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM_0_12_centos")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# cat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("proc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sys"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("net"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("ipv4"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("ip_local_port_range\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32768")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60999")]),s._v("\n")])])]),a("p",[s._v("修改 "),a("code",[s._v("sysctl.conf")]),s._v(" 文件修改范围：")]),s._v(" "),a("p",[a("code",[s._v("net.ipv4.ip_local_port_range = 1024 65535")])]),s._v(" "),a("p",[s._v("3）定时任务清理临时目录垃圾文件，日志归档")]),s._v(" "),a("p",[s._v("4）锁定关键系统文件，防止被提权篡改")]),s._v(" "),a("p",[s._v("5）清除多余的系统虚拟账号")]),s._v(" "),a("h2",{attrs:{id:"_9、如何合理查找"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9、如何合理查找"}},[s._v("#")]),s._v(" 9、如何合理查找")]),s._v(" "),a("p",[s._v("换句话说就是 合理使用find参命令")]),s._v(" "),a("h4",{attrs:{id:"_1-在-software-目录下找出大小超过-10mb-的文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-在-software-目录下找出大小超过-10mb-的文件"}},[s._v("#")]),s._v(" 1）在 "),a("code",[s._v("/software")]),s._v(" 目录下找出大小超过 10MB 的文件")]),s._v(" "),a("p",[a("code",[s._v("find /software -type f -size +10240k")])]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM_0_12_centos")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# find "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("software "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("type f "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("size "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10240")]),s._v("k\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("software"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.6")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".33")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("linux"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("glibc2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("x86_64"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gz\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("software"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lib"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("libmysqlclient"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("software"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lib"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("libmysqld"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("software"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lib"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("libmysqld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a\n")])])]),a("h4",{attrs:{id:"_2-目录下找出-365-天之内未被访问过的文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-目录下找出-365-天之内未被访问过的文件"}},[s._v("#")]),s._v(" 2）目录下找出 365 天之内未被访问过的文件")]),s._v(" "),a("p",[a("code",[s._v("find /software \\! -atime -365")])]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM_0_12_centos")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# find "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("software \\"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("atime "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("365")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("software\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("software"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.7")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".20")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("linux"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("glibc2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("x86_64"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gz\n")])])]),a("h4",{attrs:{id:"_3-目录下找出-365-天之前被修改过的文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-目录下找出-365-天之前被修改过的文件"}},[s._v("#")]),s._v(" 3） 目录下找出 365 天之前被修改过的文件")]),s._v(" "),a("p",[a("code",[s._v("find /home -mtime +365")])]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("centos "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# find "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("home "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("mtime "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("365")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("home\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("home"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HaC")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("home"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HaC")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HaC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("pub\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("home"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HaC")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HaC")]),s._v("\n")])])]),a("h2",{attrs:{id:"_10、linux的目录结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10、linux的目录结构"}},[s._v("#")]),s._v(" 10、Linux的目录结构")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://blog-1253198264.cos.ap-guangzhou.myqcloud.com/image-20210104231500000.png",alt:""}})]),s._v(" "),a("p",[s._v("常见的：")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("/bin")]),s._v("：\nbin 是 Binaries (二进制文件) 的缩写, 这个目录存放着最经常使用的命令。")]),s._v(" "),a("li",[a("strong",[s._v("/boot：")]),s._v("\n这里存放的是启动 Linux 时使用的一些核心文件，包括一些连接文件以及镜像文件。")]),s._v(" "),a("li",[a("strong",[s._v("/dev ：")]),s._v("\ndev 是 Device(设备) 的缩写, 该目录下存放的是 Linux 的外部设备，在 Linux 中访问设备的方式和访问文件的方式是相同的。")]),s._v(" "),a("li",[a("strong",[s._v("/etc：")]),s._v("\netc 是 Etcetera(等等) 的缩写,这个目录用来存放所有的系统管理所需要的配置文件和子目录。")]),s._v(" "),a("li",[a("strong",[s._v("/home")]),s._v("：\n用户的主目录，在 Linux 中，每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的，如上图中的 alice、bob 和 eve。")]),s._v(" "),a("li",[a("strong",[s._v("/lib")]),s._v("：\nlib 是 Library(库) 的缩写这个目录里存放着系统最基本的动态连接共享库，其作用类似于 Windows 里的 DLL 文件。几乎所有的应用程序都需要用到这些共享库。")])])])}),[],!1,null,null,null);a.default=n.exports}}]);