(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{404:function(t,s,a){t.exports=a.p+"assets/img/image-20240218170642548.cb892c2e.png"},405:function(t,s,a){t.exports=a.p+"assets/img/image-20250821151440627.b5870f85.png"},758:function(t,s,a){"use strict";a.r(s);var n=a(7),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("日志是指事件的记录。")]),t._v(" "),s("p",[t._v("日志是带有时间戳的文本记录，并带有可选的元数据。在指标、链路、日志中，日志的遗留影响最为深远。")]),t._v(" "),s("p",[t._v("大多数编程语言都内置了日志记录功能，或者拥有知名且广泛使用的日志记录库，写到filelog文件，然后压缩。")]),t._v(" "),s("div",{staticClass:"language-verilog extra-class"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("02")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v("T13"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23.505892")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("#22473")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  INFO "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6459")]),t._v("ffe1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ea53"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4044")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("aaa3"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("bf902868f730"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Started GET "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" at "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("02")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0800")]),t._v("\n")])])]),s("p",[t._v("早期的原始架构，没有考虑到日志的记录和存储，通常开发人员直接登入线上服务器查看日志文件：")]),t._v(" "),s("p",[s("img",{attrs:{src:a(404),alt:""}})]),t._v(" "),s("p",[t._v("这种在架构简单，日志量少，单点部署的应用，是没什么问题的。")]),t._v(" "),s("p",[t._v("如果日志量大，加上分布式部署，缺点明显：")]),t._v(" "),s("ul",[s("li",[t._v("每次都要登入服务器，需要通过IP定位到是哪台机器，否则只能一台一台查看")]),t._v(" "),s("li",[t._v("日志量大的时候，查询很慢，tail、cat 等等命令可能会导致磁盘IO高")]),t._v(" "),s("li",[t._v("日志文件格式不规范，可能保存时间较短被删除、压缩，也可能一直保存导致磁盘空间满")])]),t._v(" "),s("p",[t._v("目前行业内的日志采集基本上都是采取 ELK 组件：")]),t._v(" "),s("p",[s("img",{attrs:{src:a(405),alt:"ELK架构图"}})]),t._v(" "),s("p",[t._v("采集后的日志，使用 kibana 做查询。")])])}),[],!1,null,null,null);s.default=r.exports}}]);