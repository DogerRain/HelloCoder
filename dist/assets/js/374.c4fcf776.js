(window.webpackJsonp=window.webpackJsonp||[]).push([[374],{806:function(s,a,t){"use strict";t.r(a);var r=t(7),n=Object(r.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("服务器负载过高，排查问题一定离不开top命令。")]),s._v(" "),a("p",[s._v("这篇文章就来教大家如何使用top命令看top命令的结果。")]),s._v(" "),a("h2",{attrs:{id:"_1、使用top命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、使用top命令"}},[s._v("#")]),s._v(" 1、使用top命令")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("centos "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# top\ntop "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" up  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("54")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  load average"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.73")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.70")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.71")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Tasks")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("95")]),s._v(" total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" running"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("94")]),s._v(" sleeping"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" stopped"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" zombie\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Cpu")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50.0")]),s._v(" us"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50.0")]),s._v(" sy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" ni"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" wa"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" hi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" si"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" st\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("KiB")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Mem")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1882056")]),s._v(" total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("69588")]),s._v(" free"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1255116")]),s._v(" used"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("557352")]),s._v(" buff"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cache\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("KiB")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Swap")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" free"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" used"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("478816")]),s._v(" avail "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Mem")]),s._v("\n\n  PID USER      PR  NI    VIRT    RES    SHR "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("CPU "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("MEM     TIME"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" COMMAND\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1953")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101080")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2248")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1732")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("01.89")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("YDLive")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2310")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2369316")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("246988")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13760")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22.47")]),s._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5082")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("154808")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10500")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3248")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.14")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("YDService")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("43444")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3872")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2580")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("01.27")]),s._v(" systemd\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.00")]),s._v(" kthreadd\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" root       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.00")]),s._v(" kworker"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("H\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.07")]),s._v(" kworker"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("u2"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.02")]),s._v(" ksoftirqd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" root      rt   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.00")]),s._v(" migration"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n")])])]),a("p",[s._v("然后键盘按 1  表示进入第1个CPU核心（如果是多核需要分别查看不同的CPU），按 2 表示进入第2个CPU核心，要取决你要多少个CPU核心。")]),s._v(" "),a("p",[s._v("上面一堆密密麻麻的数字和单词，下面来慢慢看。")]),s._v(" "),a("h2",{attrs:{id:"_2、load-average"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、load-average"}},[s._v("#")]),s._v(" 2、Load Average")]),s._v(" "),a("p",[s._v("有经验的老运维们，单从Load Average 就可以判断系统负载高低。")]),s._v(" "),a("p",[s._v("看到右上角：")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("load average"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.73")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.70")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.71")]),s._v("\n")])])]),a("p",[s._v("— "),a("code",[s._v("load average")]),s._v("后面的三个数分别是1分钟、5分钟、")]),s._v(" "),a("p",[s._v("15分钟的负载情况。 指的是处于可运行状态和不可中断状态的平均进程数。数字越大，CPU负载越大。")]),s._v(" "),a("p",[s._v("如果 小于 "),a("code",[s._v("CPU数 * 每个CPU的核心数")]),s._v(" ， 则表示负载是合理的，比如上面我的服务器 CPU 是 1 个，只有 1 个核心，那么现在1.7的负载大于1，就很不合理了。")]),s._v(" "),a("p",[s._v("但是，这个数值高了也并不能直接代表这台机器的性能有问题。可能是因为正在进行"),a("strong",[s._v("CPU密集型的计算")]),s._v("，也有可能是因为I/O问题导致运行队列堵了（证明有很多任务在等待中）。")]),s._v(" "),a("p",[s._v("所以，当我们看到这个数值飙升的时候，还得具体问题具体分析。")]),s._v(" "),a("p",[a("strong",[s._v("如何查CPU和CPU核心？")])]),s._v(" "),a("ul",[a("li",[s._v("查看逻辑CPU的个数")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/cpuinfo"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"processor"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" -l\n")])])]),a("ul",[a("li",[s._v("查看物理CPU个数")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/cpuinfo"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"physical id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("uniq")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" -l\n")])])]),a("ul",[a("li",[s._v("查看逻辑CPU数目：")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/cpuinfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"model name"')]),s._v(" \n")])])]),a("ul",[a("li",[s._v("查看CPU核心：（每个物理CPU中core的个数(即核数)）")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/cpuinfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cpu cores"')]),s._v("\n")])])]),a("p",[s._v("演示一下：")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("centos "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# cat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("proc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cpuinfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("grep "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"processor"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("wc "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("l  \n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@localhost")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# cat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("proc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cpuinfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("grep "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"physical id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("sort "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("uniq"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("wc "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("l\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("centos "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# cat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("proc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cpuinfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" grep "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"model name"')]),s._v("\nmodel name      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" AMD EPYC "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("K62 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Core")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Processor")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@VM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("centos "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# cat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("proc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cpuinfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" grep "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cpu cores"')]),s._v("\ncpu cores       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])])]),a("p",[s._v("表示我的服务器只有 1 个CPU， 1  个CPU只有 1 个核心，只有 1 个 线程。")]),s._v(" "),a("p",[s._v("这里是题外话了，我们一般需要关注"),a("code",[s._v("model name")]),s._v(" 和  "),a("code",[s._v("cpu cores")]),s._v(" 就可以了。")]),s._v(" "),a("h2",{attrs:{id:"_3、一行一行看"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、一行一行看"}},[s._v("#")]),s._v(" 3、一行一行看")]),s._v(" "),a("h3",{attrs:{id:"第一行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一行"}},[s._v("#")]),s._v(" 第一行：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" - "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":17:16 up  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(":54,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" user,  load average: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.73")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.70")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.71")]),s._v("\n\ntop：当前时间\nup：机器运行了多少时间\nusers：当前有多少用户\nload average：分别是过去1分钟，5分钟，15分钟的负载\n")])])]),a("p",[s._v("这里最重要的就是"),a("code",[s._v("load average")]),s._v(" 了。")]),s._v(" "),a("h3",{attrs:{id:"第二行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二行"}},[s._v("#")]),s._v(" 第二行：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Tasks:  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("95")]),s._v(" total,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" running,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("94")]),s._v(" sleeping,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" stopped,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" zombie\n\nTasks：当前有多少进程\nrunning：正在运行的进程\nsleeping：正在休眠的进程\nstopped：停止的进程\nzombie：僵尸进程\n")])])]),a("p",[s._v("running线程越多，服务器自然压力越大。")]),s._v(" "),a("p",[s._v("zombie表示僵尸线程，借用官方解释：")]),s._v(" "),a("blockquote",[a("p",[s._v("一个进程在调用exit命令结束自己的生命的时候，其实它并没有真正的被销毁，而是留下一个称为"),a("a",{attrs:{href:"http://www.nowamagic.net/librarys/veda/tag/%E5%83%B5%E5%B0%B8%E8%BF%9B%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"}},[s._v("僵尸进程"),a("OutboundLink")],1),s._v("（Zombie）的数据结构（系统调用exit， 它的作用是使进程退出，但也仅仅限于将一个正常的进程变成一个僵尸进程，并不能将其完全销毁）。")])]),s._v(" "),a("p",[s._v("一般可以使用以下两个命令找到 父进程的Id，然后 kill 掉：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -e -o stat,ppid,pid,cmd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("egrep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^[Zz]'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"defunct"')]),s._v("\n")])])]),a("p",[s._v("注：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("'^[Zz]'")]),s._v("：这是正则表达式，^表示第一个字符的位置，[Zz]，表示z或者大写的Z字母，即表示第一个字符为Z或者z开头的进程数据，只所以这样是因为僵尸进程的状态信息以Z或者z字母开头。")]),s._v(" "),a("li",[s._v("多数linux系统，也会将僵尸进程标识为"),a("code",[s._v("defunct")])])]),s._v(" "),a("h3",{attrs:{id:"第三行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第三行"}},[s._v("#")]),s._v(" 第三行：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("%Cpu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50.0")]),s._v(" us, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50.0")]),s._v(" sy,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" ni,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" id,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" wa,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" hi,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" si,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" st\n\n\nus: 用户进程占CPU的使用率\nsy: 系统进程占CPU的使用率\nni: 用户进程空间改变过优先级\nid: 空闲CPU占用率\nwa: 等待输入输出的CPU时间百分比\nhi: 硬件的中断请求\nsi: 软件的中断请求\nst: steal "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v("\n")])])]),a("p",[s._v("这里表示了CPU的使用情况。")]),s._v(" "),a("p",[a("code",[s._v("us")]),s._v("长期过高，表明用户进程占用了大量的CPU时间。")]),s._v(" "),a("p",[a("code",[s._v("us+sy")]),s._v("如果长期超过80或者90，可能就代表了CPU性能不足，需要加CPU了。")]),s._v(" "),a("p",[s._v("可以看到我这里 "),a("code",[s._v("us")]),s._v("占了 50%，"),a("code",[s._v("sy")]),s._v("占了50%，"),a("code",[s._v("ni")]),s._v(" 为0，CPU的剩余空闲率已经没有了，说明CPU资源不足。")]),s._v(" "),a("h3",{attrs:{id:"第四行-第五行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第四行-第五行"}},[s._v("#")]),s._v(" 第四行+第五行")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("KiB Mem "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1882056")]),s._v(" total,    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("69588")]),s._v(" free,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1255116")]),s._v(" used,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("557352")]),s._v(" buff/cache\nKiB Swap:        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" total,        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" free,        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" used.   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("478816")]),s._v(" avail Mem\n\nKiB Mem 物理内存\nKiB Swap 交换区总量\ntotal：内存总量\nfree：空闲内存\nused：使用的\nbuffer/cache：写缓存/读缓存\n")])])]),a("p",[s._v("这里解释一下，所谓缓冲的"),a("strong",[s._v("交换区总量-KiB Swap")]),s._v("，即内存中的内容被换出到交换区，而后又被换入到内存，但使用过的交换区尚未被覆盖，该数值即为这些内容已存在于内存中的交换区的大小。")]),s._v(" "),a("p",[s._v("其实使用 "),a("code",[s._v("free")]),s._v(" 命令也是一样可以得出这样的结果。")]),s._v(" "),a("p",[a("strong",[s._v("为什么会有Swap？")])]),s._v(" "),a("p",[s._v("当Linux的物理内存快要被耗尽时，系统会把一些进程占用的内存转移到 swap 区，当物理内存被释放一部分时，swap 区的一些内存占用又慢慢回到 mem 区，但是 mem 区却不再是之前的满负荷状态，而是有一部分 free 的内存！")]),s._v(" "),a("p",[s._v("【总结】")]),s._v(" "),a("p",[s._v("1）当物理内存快被耗尽时，系统并没有崩溃，而是拿 swap 做临时内存，当两者都耗尽，系统 OutofMemory")]),s._v(" "),a("p",[s._v("2）物理内存达到峰值，系统中一些不常用的进程内存占用被提到 swap 区")]),s._v(" "),a("p",[s._v("3）当 Men 区的资源进行释放时，被挪到 swap 的内存并不会全部回来，随着系统或者程序的唤醒才会慢慢回到 men 区")]),s._v(" "),a("p",[s._v("4）swap 是内存不够时，磁盘虚拟出来的内存，磁盘主要是 I/O 级别的操作，并不是系统内核级别的操作，处理速度跟 mem 区不是一个等级。")]),s._v(" "),a("blockquote",[a("p",[s._v("这部分参考自：https://www.cnblogs.com/lili-xia/p/11506188.html")])]),s._v(" "),a("p",[s._v("所以说这么多，简单一句就是 ："),a("strong",[s._v("当物理内存不够用的时候，操作系统才会把暂时不用的数据放到Swap中。所以当这个数值变高的时候，说明内存不足了，需要充钱升级内存了")])]),s._v(" "),a("h3",{attrs:{id:"第五行下面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第五行下面"}},[s._v("#")]),s._v(" 第五行下面")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v(" PID "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1953")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101080")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2248")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1732")]),s._v(" S  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":01.89 YDLive\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2310")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2369316")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("246988")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13760")]),s._v(" S  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":22.47 java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5082")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("154808")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10500")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3248")]),s._v(" S  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":11.14 YDService\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("43444")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3872")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2580")]),s._v(" S  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":01.27 systemd\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 kthreadd\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" root       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -20       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 kworker/0:0H\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.07 kworker/u2:0\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.02 ksoftirqd/0\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" root      rt   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 migration/0\n    \nPID:进程id\n"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v(":进程所有者\nPR:优先级。数值越大优先级越高\nNI:nice值，负值表示高优先级，正值表示低优先级\nVIRT:进程使用的虚拟内存总量\nSWAP:进程使用的虚拟内存中被换出的大小\nRES:进程使用的、未被换出的物理内存大小\nSHR:共享内存大小\nSHR:共享内存大小\nS：进程状态。D表示不可中断的睡眠状态；R表示运行；S表示睡眠；T表示跟踪/停止；Z表示僵尸进程。\n%CPU:上次更新到现在的CPU占用百分比 ；\n%MEM:进程使用的物理内存百分比 ；\nTIME+:进程使用的CPU时间总计，单位1/100秒；\nCOMMAND:命令名/命令行（进程启动的命令，可以使用 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" -c 打印完整的命令）\n")])])]),a("p",[s._v("这个就像是Windows的资源管理器一样。")]),s._v(" "),a("p",[s._v("键盘按下 x 键 ，就会把CPU的占用率进行降序排序。")]),s._v(" "),a("p",[s._v("借助 %CPU、%MEM 这两个一般就可以找出占用CPU、内存 最高的的进程ID，再借助ps、jstack、vmstat、iostat 这些常用的命令，就很容易定位出问题了。")])])}),[],!1,null,null,null);a.default=n.exports}}]);