(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{440:function(t,a,s){"use strict";s.r(a);var n=s(7),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"_1、springmvc工作流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、springmvc工作流程"}},[t._v("#")]),t._v(" 1、springMVC工作流程")]),t._v(" "),a("p",[a("strong",[t._v("springMVC运行原理：")])]),t._v(" "),a("ol",[a("li",[t._v("客户端（浏览器）发送请求，直接请求到 DispatcherServlet。")]),t._v(" "),a("li",[t._v("DispatcherServlet 根据请求信息调用 HandlerMapping，解析请求对应的 Handler。")]),t._v(" "),a("li",[t._v("解析到对应的 Handler（也就是我们平常说的 Controller 控制器）后，开始由 HandlerAdapter 适配器处理。")]),t._v(" "),a("li",[t._v("HandlerAdapter 会根据 Handler来调用真正的处理器开处理请求，并处理相应的业务逻辑。")]),t._v(" "),a("li",[t._v("处理器处理完业务后，会返回一个 ModelAndView 对象，Model 是返回的数据对象，View 是个逻辑上的 View。")]),t._v(" "),a("li",[t._v("ViewResolver 会根据逻辑 View 查找实际的 View。")]),t._v(" "),a("li",[t._v("DispaterServlet 把返回的 Model 传给 View（视图渲染）。")]),t._v(" "),a("li",[t._v("把 View 返回给请求者（浏览器）")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/DogerRain/image@main/img-202204/clipboard.png",alt:"img"}})]),t._v(" "),a("h3",{attrs:{id:"_2、spring-mvc的主要组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、spring-mvc的主要组件"}},[t._v("#")]),t._v(" 2、Spring MVC的主要组件")]),t._v(" "),a("p",[t._v("（1）前端控制器 DispatcherServlet（不需要程序员开发）")]),t._v(" "),a("p",[t._v("作用：接收请求、响应结果，相当于转发器，有了DispatcherServlet 就减少了其它组件之间的耦合度。")]),t._v(" "),a("p",[t._v("（2）处理器映射器HandlerMapping（不需要程序员开发）")]),t._v(" "),a("p",[t._v("作用：根据请求的URL来查找Handler")]),t._v(" "),a("p",[t._v("（3）处理器适配器HandlerAdapter")]),t._v(" "),a("p",[t._v("注意：在编写Handler的时候要按照HandlerAdapter要求的规则去编写，这样适配器HandlerAdapter才可以正确的去执行Handler。")]),t._v(" "),a("p",[t._v("（4）处理器Handler（需要程序员开发）")]),t._v(" "),a("p",[t._v("（5）视图解析器 ViewResolver（不需要程序员开发）")]),t._v(" "),a("p",[t._v("作用：进行视图的解析，根据视图逻辑名解析成真正的视图（view）")]),t._v(" "),a("p",[t._v("（6）视图View（需要程序员开发jsp）")]),t._v(" "),a("p",[t._v("View是一个接口， 它的实现类支持不同的视图类型（jsp，freemarker，pdf等等）")]),t._v(" "),a("h3",{attrs:{id:"_3、spring-mvc常用的注解有哪些"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、spring-mvc常用的注解有哪些"}},[t._v("#")]),t._v(" 3、Spring MVC常用的注解有哪些")]),t._v(" "),a("p",[t._v("@Controller")]),t._v(" "),a("p",[t._v("分发处理器将会扫描使用了该注解的类的方法，并检测该方法是否使用了@RequestMapping 注解。@Controller 只是定义了一个控制器类，而使用@RequestMapping 注解的方法才是真正处理请求的处理器。")]),t._v(" "),a("p",[t._v("@RequestMapping")]),t._v(" "),a("p",[t._v("RequestMapping是一个用来处理请求地址映射的注解，可用于类或方法上。用于类上，表示类中的所有响应请求的方法都是以该地址作为父路径。")]),t._v(" "),a("p",[t._v("@RequestBody")]),t._v(" "),a("p",[t._v("注解实现接收http请求的json数据，将json转换为java对象。")]),t._v(" "),a("p",[t._v("@ResponseBody")]),t._v(" "),a("p",[t._v("注解实现将conreoller方法返回对象转化为json对象响应给客户。")]),t._v(" "),a("p",[t._v("@RequestParam")]),t._v(" "),a("p",[t._v("用于将请求参数映射到功能处理方法的参数上")]),t._v(" "),a("p",[t._v("@PathVariable")]),t._v(" "),a("p",[t._v("用于将请求URL中的模板变量映射到功能处理方法的参数上，即取出uri模板中的变量作为参数")]),t._v(" "),a("h3",{attrs:{id:"_4、spring-mvc怎么样设定重定向和转发的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、spring-mvc怎么样设定重定向和转发的"}},[t._v("#")]),t._v(" 4、Spring MVC怎么样设定重定向和转发的")]),t._v(" "),a("p",[t._v('（1）转发：在返回值前面加"forward:"，譬如"forward:user.do?name=method4"')]),t._v(" "),a("p",[t._v('（2）重定向：在返回值前面加"redirect:"，譬如"redirect:/hello.do"')]),t._v(" "),a("h3",{attrs:{id:"_5、如何解决post请求中文乱码问题-get的又如何处理呢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、如何解决post请求中文乱码问题-get的又如何处理呢"}},[t._v("#")]),t._v(" 5、如何解决POST请求中文乱码问题，GET的又如何处理呢")]),t._v(" "),a("p",[t._v("1）解决post请求乱码问题：")]),t._v(" "),a("p",[t._v("在web.xml中配置一个CharacterEncodingFilter过滤器，设置成utf-8；")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("filter-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("CharacterEncodingFilter"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("filter-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("filter-class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.web.filter.CharacterEncodingFilter"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("filter-class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("init-param")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("param-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("encoding"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("param-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("param-value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("utf-8"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("param-value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("init-param")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("filter-mapping")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("filter-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("CharacterEncodingFilter"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("filter-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("url-pattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("/*"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("url-pattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("filter-mapping")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("（2）get请求中文参数出现乱码解决方法有两个：")]),t._v(" "),a("p",[t._v("①修改tomcat配置文件添加编码与工程编码一致，如下：")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v('<ConnectorURIEncoding="utf-8" connectionTimeout="20000" \n                      port="8080" protocol="HTTP/1.1" redirectPort="8443"/>\n')])])]),a("p",[t._v("②另外一种方法对参数进行重新编码：")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" userName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getParamter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("“userName”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBytes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("“ISO8859"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("“utf"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("ISO8859-1是tomcat默认编码，需要将tomcat编码后的内容按utf-8编码。")])])}),[],!1,null,null,null);a.default=e.exports}}]);