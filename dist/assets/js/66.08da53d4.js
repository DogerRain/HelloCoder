(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{465:function(v,t,_){"use strict";_.r(t);var a=_(7),n=Object(a.a)({},(function(){var v=this,t=v._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h2",{attrs:{id:"a-q-如何手动触发全量回收垃圾-如何立即触发垃圾回收"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#a-q-如何手动触发全量回收垃圾-如何立即触发垃圾回收"}},[v._v("#")]),v._v(" A&Q 如何手动触发全量回收垃圾，如何立即触发垃圾回收?")]),v._v(" "),t("p",[v._v("有一次被问到了这个问题，初学Java的都知道，Java是一门自动垃圾回收的语言，开发者不需要关注垃圾回收，所以这个问题的答案就是："),t("strong",[v._v("我们无法决定Java何时进行垃圾回收，但是可以建议Java进行垃圾回收")]),v._v("，沿着这个问题，面试官还问了JavaGC的3个细节：")]),v._v(" "),t("ul",[t("li",[v._v("Java是如何判断对象是否需要被回收的？有什么算法")]),v._v(" "),t("li",[v._v("Java是如何回收的？有什么垃圾回收算法？")]),v._v(" "),t("li",[v._v("有什么垃圾收集算法？")])]),v._v(" "),t("p",[v._v("还好我对JavaGC这一块比较熟悉，原来重头戏是这些~")]),v._v(" "),t("p",[v._v("这三个小问题不展开了，有兴趣的可以看一下：")]),v._v(" "),t("p",[t("a",{attrs:{href:"https://mp.weixin.qq.com/s/hstPe1xrkf-gIDUKG1Y_Gg",target:"_blank",rel:"noopener noreferrer"}},[v._v("一文带你明白Java垃圾回收"),t("OutboundLink")],1)]),v._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/DogerRain/image@main/img/GC.png",alt:"小朋友你是否有很多问号？"}})]),v._v(" "),t("p",[v._v("回到这个问题上面：")]),v._v(" "),t("p",[t("strong",[v._v("垃圾回收的特征是什么？")])]),v._v(" "),t("ul",[t("li",[v._v("垃圾回收机制只负责回收堆内存的对象，不会回收任何物理资源（例如数据库连接、网络IO等资源）")]),v._v(" "),t("li",[v._v("程序无法精确控制垃圾回收的运行，垃圾回收会在合适的时候进行。（有 "),t("strong",[v._v("引用计数算法")]),v._v("、"),t("strong",[v._v("可达性分析算法")]),v._v(" 判断对象是否需要回收）")]),v._v(" "),t("li",[v._v("在垃圾回收机制回收任何对象之前，总会先调用它的"),t("code",[v._v("finalize()")]),v._v("方法，该方法可能使该对象重新复活（让一个引用变量重新引用该对象），从而导致垃圾回收机制取消回收。")])]),v._v(" "),t("p",[t("strong",[v._v("如何立即触发垃圾回收?")])]),v._v(" "),t("p",[v._v("程序员唯一能做的就是通过调用 "),t("code",[v._v("System. gc")]),v._v(" （"),t("code",[v._v("Runtime.getRuntime().gc()")]),v._v(" 也行）方法来“"),t("strong",[v._v("建议")]),v._v("”执行垃圾收集器，但其\n是否可以执行，什么时候执行却都是不可知的。")])])}),[],!1,null,null,null);t.default=n.exports}}]);