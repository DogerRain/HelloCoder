(window.webpackJsonp=window.webpackJsonp||[]).push([[148],{564:function(t,n,e){"use strict";e.r(n);var l=e(7),o=Object(l.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("\\1. MQ：无论A、B、C监听事件失败消息，并针对不同业务类型和业务id进行回滚操作即可")]),t._v(" "),n("p",[t._v("\\2. TCC：每个服务都开发T、C、C三种类型的接口，A调用B的Try操作成功，当B调用C的Try失败次数达到阈值后，先执行自己的业务Cancel方法，然后调用A的Cancel接口")]),t._v(" "),n("p",[t._v("Try—Confirm—Cancel")]),t._v(" "),n("blockquote",[n("p",[t._v("参考：https://zhuanlan.zhihu.com/p/61129707")])]),t._v(" "),n("p",[t._v("\\3. 软状态：A调用B的时候执行为预操作状态，B调用C如果成功也执行为预操作状态，这样无论哪一环出了问题，都不会影响业务数据的一致性。因为中间状态的数据，对于业务一定是不可用的状态。我们只需要在调用失败的时候做出相应的通知等其他处理策略即可（比如通知+人工，定时任务处理软状态等）。如果都执行为预操作状态成功，再触发修改为执行状态")]),t._v(" "),n("p",[t._v("允许重试，比如说马上重试，重试多次后无果则判定失败，又或者通过定时任务查询。")])])}),[],!1,null,null,null);n.default=o.exports}}]);