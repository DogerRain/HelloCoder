<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>IO | HelloCoder</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/img/favicon.ico">
    <script charset="utf-8" async="async" src="/js/jquery.min.js"></script>
    <script charset="utf-8" async="async" src="/js/global.js"></script>
    <script charset="utf-8" async="async" src="/js/fingerprint2.min.js"></script>
    <script charset="utf-8" async="async" src="https://readmore.openwrite.cn/js/readmore.js"></script>
    <script charset="utf-8" async="async" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <script>
              var _hmt = _hmt || [];
              (function() {
                var hm = document.createElement("script");
                hm.src = "https://hm.baidu.com/hm.js?b673363a2df767abd890cd6918642392";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
              })();
            </script>
    <meta name="description" content="java面试,java学习,面试指南,Java小白求职之路">
    <meta name="keywords" content="java面试,java面试题目,java核心知识,面试指南,Java小白求职之路">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.c9315ac1.css" as="style"><link rel="preload" href="/assets/js/app.d77444f0.js" as="script"><link rel="preload" href="/assets/js/3.1afe0ff4.js" as="script"><link rel="preload" href="/assets/js/4.5ef4a10c.js" as="script"><link rel="preload" href="/assets/js/223.0dd22f9e.js" as="script"><link rel="prefetch" href="/assets/js/10.a6c7f9ce.js"><link rel="prefetch" href="/assets/js/100.889eab71.js"><link rel="prefetch" href="/assets/js/101.910246e8.js"><link rel="prefetch" href="/assets/js/102.ac66ca5e.js"><link rel="prefetch" href="/assets/js/103.9694dbb5.js"><link rel="prefetch" href="/assets/js/104.5440ad3e.js"><link rel="prefetch" href="/assets/js/105.298b3c1c.js"><link rel="prefetch" href="/assets/js/106.102bb3bc.js"><link rel="prefetch" href="/assets/js/107.46746d44.js"><link rel="prefetch" href="/assets/js/108.9f0b2d5c.js"><link rel="prefetch" href="/assets/js/109.f69efb75.js"><link rel="prefetch" href="/assets/js/11.856da756.js"><link rel="prefetch" href="/assets/js/110.04af89be.js"><link rel="prefetch" href="/assets/js/111.56433618.js"><link rel="prefetch" href="/assets/js/112.4b905909.js"><link rel="prefetch" href="/assets/js/113.ec467ee5.js"><link rel="prefetch" href="/assets/js/114.89fe488e.js"><link rel="prefetch" href="/assets/js/115.5b4338d0.js"><link rel="prefetch" href="/assets/js/116.d974a6cb.js"><link rel="prefetch" href="/assets/js/117.cc86b7ea.js"><link rel="prefetch" href="/assets/js/118.52d20932.js"><link rel="prefetch" href="/assets/js/119.002f79a4.js"><link rel="prefetch" href="/assets/js/12.b23900c1.js"><link rel="prefetch" href="/assets/js/120.2011254a.js"><link rel="prefetch" href="/assets/js/121.bb5cb5b4.js"><link rel="prefetch" href="/assets/js/122.bcc38595.js"><link rel="prefetch" href="/assets/js/123.1c5b06b5.js"><link rel="prefetch" href="/assets/js/124.d2e1be7f.js"><link rel="prefetch" href="/assets/js/125.7aa05cae.js"><link rel="prefetch" href="/assets/js/126.7c96fb5e.js"><link rel="prefetch" href="/assets/js/127.b36c4eb1.js"><link rel="prefetch" href="/assets/js/128.ee57811e.js"><link rel="prefetch" href="/assets/js/129.a43f439a.js"><link rel="prefetch" href="/assets/js/13.099cdc0e.js"><link rel="prefetch" href="/assets/js/130.bdee3e98.js"><link rel="prefetch" href="/assets/js/131.36cec227.js"><link rel="prefetch" href="/assets/js/132.b8cbf953.js"><link rel="prefetch" href="/assets/js/133.a422c014.js"><link rel="prefetch" href="/assets/js/134.ce88de72.js"><link rel="prefetch" href="/assets/js/135.dc42c119.js"><link rel="prefetch" href="/assets/js/136.f69a5125.js"><link rel="prefetch" href="/assets/js/137.71bea79b.js"><link rel="prefetch" href="/assets/js/138.9e593da3.js"><link rel="prefetch" href="/assets/js/139.fbaa26f2.js"><link rel="prefetch" href="/assets/js/14.ac72d97d.js"><link rel="prefetch" href="/assets/js/140.19b835fd.js"><link rel="prefetch" href="/assets/js/141.a4cf1e4b.js"><link rel="prefetch" href="/assets/js/142.370cfc9c.js"><link rel="prefetch" href="/assets/js/143.eb8afe8e.js"><link rel="prefetch" href="/assets/js/144.ec282231.js"><link rel="prefetch" href="/assets/js/145.cbd77c36.js"><link rel="prefetch" href="/assets/js/146.feb746cf.js"><link rel="prefetch" href="/assets/js/147.570aba09.js"><link rel="prefetch" href="/assets/js/148.c16c4360.js"><link rel="prefetch" href="/assets/js/149.a47f616a.js"><link rel="prefetch" href="/assets/js/15.9921f64a.js"><link rel="prefetch" href="/assets/js/150.93716948.js"><link rel="prefetch" href="/assets/js/151.0cd32a7c.js"><link rel="prefetch" href="/assets/js/152.d4b1548e.js"><link rel="prefetch" href="/assets/js/153.41d43539.js"><link rel="prefetch" href="/assets/js/154.09585ffe.js"><link rel="prefetch" href="/assets/js/155.11c70330.js"><link rel="prefetch" href="/assets/js/156.e660fb59.js"><link rel="prefetch" href="/assets/js/157.26267293.js"><link rel="prefetch" href="/assets/js/158.27c68cf7.js"><link rel="prefetch" href="/assets/js/159.27f20c92.js"><link rel="prefetch" href="/assets/js/16.382c045e.js"><link rel="prefetch" href="/assets/js/160.add99372.js"><link rel="prefetch" href="/assets/js/161.f0c89531.js"><link rel="prefetch" href="/assets/js/162.58ba7bd6.js"><link rel="prefetch" href="/assets/js/163.c2560e4d.js"><link rel="prefetch" href="/assets/js/164.1babe018.js"><link rel="prefetch" href="/assets/js/165.2860d27c.js"><link rel="prefetch" href="/assets/js/166.4d87bab4.js"><link rel="prefetch" href="/assets/js/167.a7ce85d7.js"><link rel="prefetch" href="/assets/js/168.ec566f31.js"><link rel="prefetch" href="/assets/js/169.6bbdfea7.js"><link rel="prefetch" href="/assets/js/17.0d032a3a.js"><link rel="prefetch" href="/assets/js/170.b68a9fdb.js"><link rel="prefetch" href="/assets/js/171.7a72c49a.js"><link rel="prefetch" href="/assets/js/172.4828f75e.js"><link rel="prefetch" href="/assets/js/173.553ebe12.js"><link rel="prefetch" href="/assets/js/174.e5c1f2ea.js"><link rel="prefetch" href="/assets/js/175.4f2a786d.js"><link rel="prefetch" href="/assets/js/176.b30cd757.js"><link rel="prefetch" href="/assets/js/177.b814e6c9.js"><link rel="prefetch" href="/assets/js/178.6793a6ee.js"><link rel="prefetch" href="/assets/js/179.742f851e.js"><link rel="prefetch" href="/assets/js/18.df6fd3a9.js"><link rel="prefetch" href="/assets/js/180.b190777d.js"><link rel="prefetch" href="/assets/js/181.104d8dad.js"><link rel="prefetch" href="/assets/js/182.969d998a.js"><link rel="prefetch" href="/assets/js/183.b3ed9af2.js"><link rel="prefetch" href="/assets/js/184.4ede9cb2.js"><link rel="prefetch" href="/assets/js/185.98c6b8d0.js"><link rel="prefetch" href="/assets/js/186.6bff87da.js"><link rel="prefetch" href="/assets/js/187.2ffcf3d3.js"><link rel="prefetch" href="/assets/js/188.27b8b7c8.js"><link rel="prefetch" href="/assets/js/189.49596c64.js"><link rel="prefetch" href="/assets/js/19.1e24bb33.js"><link rel="prefetch" href="/assets/js/190.bb8f8940.js"><link rel="prefetch" href="/assets/js/191.8b65c6ab.js"><link rel="prefetch" href="/assets/js/192.3431e3b0.js"><link rel="prefetch" href="/assets/js/193.2057fdce.js"><link rel="prefetch" href="/assets/js/194.67312357.js"><link rel="prefetch" href="/assets/js/195.c0600477.js"><link rel="prefetch" href="/assets/js/196.59bc8814.js"><link rel="prefetch" href="/assets/js/197.e99f5168.js"><link rel="prefetch" href="/assets/js/198.3d3caa96.js"><link rel="prefetch" href="/assets/js/199.325b0ebc.js"><link rel="prefetch" href="/assets/js/20.19030ee7.js"><link rel="prefetch" href="/assets/js/200.b1b204cf.js"><link rel="prefetch" href="/assets/js/201.3e40de9d.js"><link rel="prefetch" href="/assets/js/202.c63d20da.js"><link rel="prefetch" href="/assets/js/203.04efecf7.js"><link rel="prefetch" href="/assets/js/204.f03d8240.js"><link rel="prefetch" href="/assets/js/205.6e0b4ddd.js"><link rel="prefetch" href="/assets/js/206.bd3c7df2.js"><link rel="prefetch" href="/assets/js/207.600bd883.js"><link rel="prefetch" href="/assets/js/208.6f15c32e.js"><link rel="prefetch" href="/assets/js/209.84afadf0.js"><link rel="prefetch" href="/assets/js/21.8e6d6bd1.js"><link rel="prefetch" href="/assets/js/210.dc1f6ce1.js"><link rel="prefetch" href="/assets/js/211.50bc23bc.js"><link rel="prefetch" href="/assets/js/212.1bddf7bd.js"><link rel="prefetch" href="/assets/js/213.23fe89ed.js"><link rel="prefetch" href="/assets/js/214.cc0ede21.js"><link rel="prefetch" href="/assets/js/215.36270d5e.js"><link rel="prefetch" href="/assets/js/216.4b7d5229.js"><link rel="prefetch" href="/assets/js/217.4a48c590.js"><link rel="prefetch" href="/assets/js/218.b0d7dae9.js"><link rel="prefetch" href="/assets/js/219.315de663.js"><link rel="prefetch" href="/assets/js/22.3ca0ba0e.js"><link rel="prefetch" href="/assets/js/220.c69433b2.js"><link rel="prefetch" href="/assets/js/221.991b6fc6.js"><link rel="prefetch" href="/assets/js/222.c5ca8d5d.js"><link rel="prefetch" href="/assets/js/224.87f0c57e.js"><link rel="prefetch" href="/assets/js/225.e45c04f7.js"><link rel="prefetch" href="/assets/js/226.32713faa.js"><link rel="prefetch" href="/assets/js/227.f6a096d0.js"><link rel="prefetch" href="/assets/js/228.a60802c5.js"><link rel="prefetch" href="/assets/js/229.5cdcde60.js"><link rel="prefetch" href="/assets/js/23.d6acb56b.js"><link rel="prefetch" href="/assets/js/230.fdb9425f.js"><link rel="prefetch" href="/assets/js/231.64e5e7a2.js"><link rel="prefetch" href="/assets/js/232.44f10fef.js"><link rel="prefetch" href="/assets/js/233.d6abc9e8.js"><link rel="prefetch" href="/assets/js/234.b03595c4.js"><link rel="prefetch" href="/assets/js/235.97a098da.js"><link rel="prefetch" href="/assets/js/236.f5ca65d8.js"><link rel="prefetch" href="/assets/js/237.39a40d0a.js"><link rel="prefetch" href="/assets/js/238.fb4381da.js"><link rel="prefetch" href="/assets/js/239.4df834f4.js"><link rel="prefetch" href="/assets/js/24.5cd0a2a1.js"><link rel="prefetch" href="/assets/js/240.9c736b42.js"><link rel="prefetch" href="/assets/js/241.c15f2580.js"><link rel="prefetch" href="/assets/js/242.43dd9c0b.js"><link rel="prefetch" href="/assets/js/243.e15da083.js"><link rel="prefetch" href="/assets/js/244.0c59eefd.js"><link rel="prefetch" href="/assets/js/245.ba8d3edd.js"><link rel="prefetch" href="/assets/js/246.71fca3e1.js"><link rel="prefetch" href="/assets/js/247.9a8814c0.js"><link rel="prefetch" href="/assets/js/248.171ecf14.js"><link rel="prefetch" href="/assets/js/249.54a5b9ec.js"><link rel="prefetch" href="/assets/js/25.b7065c14.js"><link rel="prefetch" href="/assets/js/250.b7c829f2.js"><link rel="prefetch" href="/assets/js/251.cc1b6785.js"><link rel="prefetch" href="/assets/js/252.c74ff2ea.js"><link rel="prefetch" href="/assets/js/253.19e3246a.js"><link rel="prefetch" href="/assets/js/254.2d9977e0.js"><link rel="prefetch" href="/assets/js/255.3cab8aee.js"><link rel="prefetch" href="/assets/js/256.edfe8988.js"><link rel="prefetch" href="/assets/js/257.0a6d3e7a.js"><link rel="prefetch" href="/assets/js/258.25abc3e2.js"><link rel="prefetch" href="/assets/js/259.93eda8dd.js"><link rel="prefetch" href="/assets/js/26.7b7b62ba.js"><link rel="prefetch" href="/assets/js/260.2fd62e9f.js"><link rel="prefetch" href="/assets/js/261.15a2619a.js"><link rel="prefetch" href="/assets/js/262.7f9441ad.js"><link rel="prefetch" href="/assets/js/263.664c93b7.js"><link rel="prefetch" href="/assets/js/264.ed1e37e3.js"><link rel="prefetch" href="/assets/js/265.81712833.js"><link rel="prefetch" href="/assets/js/266.3fa0d819.js"><link rel="prefetch" href="/assets/js/267.45af8e55.js"><link rel="prefetch" href="/assets/js/268.3c7912f3.js"><link rel="prefetch" href="/assets/js/269.ab30873b.js"><link rel="prefetch" href="/assets/js/27.a7d94ee8.js"><link rel="prefetch" href="/assets/js/270.91a94adb.js"><link rel="prefetch" href="/assets/js/271.bed412a2.js"><link rel="prefetch" href="/assets/js/272.f1a974a6.js"><link rel="prefetch" href="/assets/js/273.c3073fb6.js"><link rel="prefetch" href="/assets/js/274.683417ca.js"><link rel="prefetch" href="/assets/js/275.567836e3.js"><link rel="prefetch" href="/assets/js/276.3fe68823.js"><link rel="prefetch" href="/assets/js/277.0ecd236a.js"><link rel="prefetch" href="/assets/js/278.f8ea7768.js"><link rel="prefetch" href="/assets/js/279.786687d5.js"><link rel="prefetch" href="/assets/js/28.f8284c40.js"><link rel="prefetch" href="/assets/js/280.3226e140.js"><link rel="prefetch" href="/assets/js/281.757987e1.js"><link rel="prefetch" href="/assets/js/282.9ccbb364.js"><link rel="prefetch" href="/assets/js/283.beb3ad39.js"><link rel="prefetch" href="/assets/js/284.41f2573f.js"><link rel="prefetch" href="/assets/js/285.6d256287.js"><link rel="prefetch" href="/assets/js/286.521f0922.js"><link rel="prefetch" href="/assets/js/287.d6118b29.js"><link rel="prefetch" href="/assets/js/288.5d98d321.js"><link rel="prefetch" href="/assets/js/289.2bebec82.js"><link rel="prefetch" href="/assets/js/29.86fcf970.js"><link rel="prefetch" href="/assets/js/290.616dd8a0.js"><link rel="prefetch" href="/assets/js/291.5e360e1d.js"><link rel="prefetch" href="/assets/js/292.549f67af.js"><link rel="prefetch" href="/assets/js/293.7a404798.js"><link rel="prefetch" href="/assets/js/294.f4c951ce.js"><link rel="prefetch" href="/assets/js/295.d77c018c.js"><link rel="prefetch" href="/assets/js/296.0f1d2714.js"><link rel="prefetch" href="/assets/js/297.309055a4.js"><link rel="prefetch" href="/assets/js/298.2b91c650.js"><link rel="prefetch" href="/assets/js/299.5de8f0c7.js"><link rel="prefetch" href="/assets/js/30.b65c062c.js"><link rel="prefetch" href="/assets/js/300.9a5d9013.js"><link rel="prefetch" href="/assets/js/301.d60a5622.js"><link rel="prefetch" href="/assets/js/302.0a3b54de.js"><link rel="prefetch" href="/assets/js/303.8e3c708c.js"><link rel="prefetch" href="/assets/js/304.3fc697b7.js"><link rel="prefetch" href="/assets/js/305.987ec7d6.js"><link rel="prefetch" href="/assets/js/306.18215374.js"><link rel="prefetch" href="/assets/js/307.f505870b.js"><link rel="prefetch" href="/assets/js/308.bdc9fcbc.js"><link rel="prefetch" href="/assets/js/309.87c906cc.js"><link rel="prefetch" href="/assets/js/31.fc032e6a.js"><link rel="prefetch" href="/assets/js/310.f57824c4.js"><link rel="prefetch" href="/assets/js/311.107db11a.js"><link rel="prefetch" href="/assets/js/312.d52f91c5.js"><link rel="prefetch" href="/assets/js/313.259ef101.js"><link rel="prefetch" href="/assets/js/314.012957c6.js"><link rel="prefetch" href="/assets/js/315.496110f1.js"><link rel="prefetch" href="/assets/js/316.4351e21f.js"><link rel="prefetch" href="/assets/js/317.5c748534.js"><link rel="prefetch" href="/assets/js/318.f4e1ce09.js"><link rel="prefetch" href="/assets/js/319.d393d0be.js"><link rel="prefetch" href="/assets/js/32.0af3af21.js"><link rel="prefetch" href="/assets/js/320.840e8b23.js"><link rel="prefetch" href="/assets/js/321.25d74f43.js"><link rel="prefetch" href="/assets/js/322.ce43d9d3.js"><link rel="prefetch" href="/assets/js/323.7cebe74a.js"><link rel="prefetch" href="/assets/js/324.f15cc82c.js"><link rel="prefetch" href="/assets/js/325.216b028a.js"><link rel="prefetch" href="/assets/js/326.24459ffe.js"><link rel="prefetch" href="/assets/js/327.cbe35f80.js"><link rel="prefetch" href="/assets/js/328.addc31fb.js"><link rel="prefetch" href="/assets/js/329.6bcfce1c.js"><link rel="prefetch" href="/assets/js/33.fcad0bda.js"><link rel="prefetch" href="/assets/js/330.bd7cf169.js"><link rel="prefetch" href="/assets/js/331.5634ccfe.js"><link rel="prefetch" href="/assets/js/332.eade9779.js"><link rel="prefetch" href="/assets/js/333.ee440d4c.js"><link rel="prefetch" href="/assets/js/334.f9293ad6.js"><link rel="prefetch" href="/assets/js/335.9d7c647a.js"><link rel="prefetch" href="/assets/js/336.e0c1e2be.js"><link rel="prefetch" href="/assets/js/337.da7131aa.js"><link rel="prefetch" href="/assets/js/338.890ba2e5.js"><link rel="prefetch" href="/assets/js/339.f6abf43d.js"><link rel="prefetch" href="/assets/js/34.81fc37e9.js"><link rel="prefetch" href="/assets/js/340.1d49bfa0.js"><link rel="prefetch" href="/assets/js/341.e8fb028d.js"><link rel="prefetch" href="/assets/js/342.25d114d6.js"><link rel="prefetch" href="/assets/js/343.e12342ee.js"><link rel="prefetch" href="/assets/js/344.3528feb3.js"><link rel="prefetch" href="/assets/js/345.cd3beb6a.js"><link rel="prefetch" href="/assets/js/346.33e43fc8.js"><link rel="prefetch" href="/assets/js/347.8e97118f.js"><link rel="prefetch" href="/assets/js/348.0f205657.js"><link rel="prefetch" href="/assets/js/349.7e95124f.js"><link rel="prefetch" href="/assets/js/35.f965855b.js"><link rel="prefetch" href="/assets/js/350.1954c82b.js"><link rel="prefetch" href="/assets/js/351.40044d5a.js"><link rel="prefetch" href="/assets/js/352.358c6f88.js"><link rel="prefetch" href="/assets/js/353.1d175de9.js"><link rel="prefetch" href="/assets/js/354.cc1e8c1e.js"><link rel="prefetch" href="/assets/js/355.482cfa0d.js"><link rel="prefetch" href="/assets/js/356.fd38bd61.js"><link rel="prefetch" href="/assets/js/357.c9e8d1e9.js"><link rel="prefetch" href="/assets/js/358.b62bc4ea.js"><link rel="prefetch" href="/assets/js/36.4e309373.js"><link rel="prefetch" href="/assets/js/37.99ecded8.js"><link rel="prefetch" href="/assets/js/38.a2c1f87f.js"><link rel="prefetch" href="/assets/js/39.b39c0de3.js"><link rel="prefetch" href="/assets/js/40.efe81093.js"><link rel="prefetch" href="/assets/js/41.bcfd8d87.js"><link rel="prefetch" href="/assets/js/42.da29367d.js"><link rel="prefetch" href="/assets/js/43.b6476279.js"><link rel="prefetch" href="/assets/js/44.0177b16a.js"><link rel="prefetch" href="/assets/js/45.40d2e4eb.js"><link rel="prefetch" href="/assets/js/46.91d021db.js"><link rel="prefetch" href="/assets/js/47.4a926ce2.js"><link rel="prefetch" href="/assets/js/48.5948538f.js"><link rel="prefetch" href="/assets/js/49.c4a8535f.js"><link rel="prefetch" href="/assets/js/5.05734700.js"><link rel="prefetch" href="/assets/js/50.26c4b3a6.js"><link rel="prefetch" href="/assets/js/51.6b7b057f.js"><link rel="prefetch" href="/assets/js/52.f2a10781.js"><link rel="prefetch" href="/assets/js/53.335211c9.js"><link rel="prefetch" href="/assets/js/54.fa700051.js"><link rel="prefetch" href="/assets/js/55.d90b564d.js"><link rel="prefetch" href="/assets/js/56.91781dfb.js"><link rel="prefetch" href="/assets/js/57.2c7b2502.js"><link rel="prefetch" href="/assets/js/58.03d74bfb.js"><link rel="prefetch" href="/assets/js/59.d800d0f8.js"><link rel="prefetch" href="/assets/js/6.0417c17e.js"><link rel="prefetch" href="/assets/js/60.250c59ef.js"><link rel="prefetch" href="/assets/js/61.e3df64a5.js"><link rel="prefetch" href="/assets/js/62.3bf6a73a.js"><link rel="prefetch" href="/assets/js/63.3193b49f.js"><link rel="prefetch" href="/assets/js/64.ac0751f8.js"><link rel="prefetch" href="/assets/js/65.eba2999f.js"><link rel="prefetch" href="/assets/js/66.26ead585.js"><link rel="prefetch" href="/assets/js/67.e0cba5df.js"><link rel="prefetch" href="/assets/js/68.560f612d.js"><link rel="prefetch" href="/assets/js/69.2cd190b9.js"><link rel="prefetch" href="/assets/js/7.3b27ef42.js"><link rel="prefetch" href="/assets/js/70.cb6e5d98.js"><link rel="prefetch" href="/assets/js/71.def16255.js"><link rel="prefetch" href="/assets/js/72.80141b13.js"><link rel="prefetch" href="/assets/js/73.c4743cd7.js"><link rel="prefetch" href="/assets/js/74.aa72b359.js"><link rel="prefetch" href="/assets/js/75.bd296f2a.js"><link rel="prefetch" href="/assets/js/76.00e691fa.js"><link rel="prefetch" href="/assets/js/77.64fa38ee.js"><link rel="prefetch" href="/assets/js/78.06962603.js"><link rel="prefetch" href="/assets/js/79.9c8a1127.js"><link rel="prefetch" href="/assets/js/8.645c88a2.js"><link rel="prefetch" href="/assets/js/80.5f04e6cb.js"><link rel="prefetch" href="/assets/js/81.b6ce7753.js"><link rel="prefetch" href="/assets/js/82.4825b1e4.js"><link rel="prefetch" href="/assets/js/83.7d7205a6.js"><link rel="prefetch" href="/assets/js/84.9ed9c97c.js"><link rel="prefetch" href="/assets/js/85.b00ca8b0.js"><link rel="prefetch" href="/assets/js/86.439de847.js"><link rel="prefetch" href="/assets/js/87.e952ef0a.js"><link rel="prefetch" href="/assets/js/88.79e404f5.js"><link rel="prefetch" href="/assets/js/89.9c18c6d6.js"><link rel="prefetch" href="/assets/js/9.79c63b10.js"><link rel="prefetch" href="/assets/js/90.84600da5.js"><link rel="prefetch" href="/assets/js/91.4f953765.js"><link rel="prefetch" href="/assets/js/92.04a7b2de.js"><link rel="prefetch" href="/assets/js/93.510d21d7.js"><link rel="prefetch" href="/assets/js/94.8ea776a2.js"><link rel="prefetch" href="/assets/js/95.10611c1f.js"><link rel="prefetch" href="/assets/js/96.8069d31d.js"><link rel="prefetch" href="/assets/js/97.8816dcdf.js"><link rel="prefetch" href="/assets/js/98.2f3ecbd2.js"><link rel="prefetch" href="/assets/js/99.64bc1274.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.1b11cb0d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c9315ac1.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/site/logo.png" alt="HelloCoder" class="logo"> <span class="site-name can-hide">HelloCoder</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/LearnJavaToFindAJob_README/" class="nav-link">《Java小白求职之路》</a></div><div class="nav-item"><a href="/pages/PureJavaCoderRoad_README/" class="nav-link">《小白学Java》</a></div><div class="nav-item"><a href="/pages/%E5%A6%82%E4%BD%95%E9%80%89%E9%A2%98/" class="nav-link">计算机毕设</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机资源" class="dropdown-title"><!----> <span class="title" style="display:;">计算机资源</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/awesome-programming-resources/" class="nav-link">一些免费计算机资源</a></li><li class="dropdown-item"><!----> <a href="/pages/Java%E5%B8%B8%E7%94%A8%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" class="nav-link">脚手架工具</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专栏系列" class="dropdown-title"><!----> <span class="title" style="display:;">专栏系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/%EF%BC%88%E4%B8%80%EF%BC%89%E7%BA%BF%E7%A8%8B%E6%98%AF%E4%BB%80%E4%B9%88/" class="nav-link">《从0到1学习Java多线程》</a></li><li class="dropdown-item"><!----> <a href="/pages/%EF%BC%881%EF%BC%89%E9%80%89%E6%8B%A9%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="nav-link">《从0到1搭建服务器》</a></li></ul></div></div><div class="nav-item"><a href="/pages/Java%E4%B9%A6%E6%9C%AC%E6%8E%A8%E8%8D%90/" class="nav-link">随笔</a></div><div class="nav-item"><a href="/pages/%E5%85%B3%E4%BA%8E%E6%88%91/" class="nav-link">关于作者</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/LearnJavaToFindAJob_README/" class="nav-link">《Java小白求职之路》</a></div><div class="nav-item"><a href="/pages/PureJavaCoderRoad_README/" class="nav-link">《小白学Java》</a></div><div class="nav-item"><a href="/pages/%E5%A6%82%E4%BD%95%E9%80%89%E9%A2%98/" class="nav-link">计算机毕设</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机资源" class="dropdown-title"><!----> <span class="title" style="display:;">计算机资源</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/awesome-programming-resources/" class="nav-link">一些免费计算机资源</a></li><li class="dropdown-item"><!----> <a href="/pages/Java%E5%B8%B8%E7%94%A8%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" class="nav-link">脚手架工具</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专栏系列" class="dropdown-title"><!----> <span class="title" style="display:;">专栏系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/%EF%BC%88%E4%B8%80%EF%BC%89%E7%BA%BF%E7%A8%8B%E6%98%AF%E4%BB%80%E4%B9%88/" class="nav-link">《从0到1学习Java多线程》</a></li><li class="dropdown-item"><!----> <a href="/pages/%EF%BC%881%EF%BC%89%E9%80%89%E6%8B%A9%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="nav-link">《从0到1搭建服务器》</a></li></ul></div></div><div class="nav-item"><a href="/pages/Java%E4%B9%A6%E6%9C%AC%E6%8E%A8%E8%8D%90/" class="nav-link">随笔</a></div><div class="nav-item"><a href="/pages/%E5%85%B3%E4%BA%8E%E6%88%91/" class="nav-link">关于作者</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>《PureJavaCoderRoad》</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>导读</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Java基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Java进阶</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>常用类</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>集合</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>反射</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading open"><span>IO</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/IO/" aria-current="page" class="active sidebar-link">IO</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>Java新特性</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/pages/%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97/" class="sidebar-link">序列化与反序列</a></li><li><a href="/pages/%E6%B3%9B%E5%9E%8B/" class="sidebar-link">泛型</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Java高阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>开发辅助工具</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>计算机网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>数据库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>JavaEE</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>中间件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>架构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>建议</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-0d043077><div class="articleInfo" data-v-0d043077><ul class="breadcrumbs" data-v-0d043077><li data-v-0d043077><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-0d043077></a></li> <li data-v-0d043077><a href="/categories/?category=PureJavaCoderRoad" title="分类" data-v-0d043077>PureJavaCoderRoad</a></li><li data-v-0d043077><a href="/categories/?category=Java%E8%BF%9B%E9%98%B6" title="分类" data-v-0d043077>Java进阶</a></li><li data-v-0d043077><a href="/categories/?category=IO" title="分类" data-v-0d043077>IO</a></li></ul> <div class="info" data-v-0d043077><div title="标签" class="iconfont icon-biaoqian tags" data-v-0d043077><a href="/tags/?tag=IO" target="_blank" title="标签" class="beLink" data-v-0d043077>

          #IO

        </a></div> <div title="作者" class="author iconfont icon-touxiang" data-v-0d043077><a href="/pages/%E5%85%B3%E4%BA%8E%E6%88%91/" target="_blank" title="作者" class="beLink" data-v-0d043077>码农阿雨</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-0d043077><a href="javascript:;" data-v-0d043077>2022-05-26</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div id="right-menu-content" class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">IO<!----></h1>  <div class="theme-vdoing-content content__default"><p>[toc]</p> <h2 id="_1、什么是io"><a href="#_1、什么是io" class="header-anchor">#</a> 1、什么是IO</h2> <p>I/O 是指Input/Output，即输入和输出。</p> <ul><li>Input指从外部读入数据到内存，例如，把文件从磁盘读取到内存，从网络读取数据到内存等等。</li> <li>Output指把数据从内存输出到外部，例如，把数据从内存写入到文件，把数据从内存输出到网络等等。</li></ul> <p>Java程序在执行的时候，是在内存进行的，外部的数据需要读写到内存才能处理；而在内存中的数据是随着程序结束就消失的，有时候我们也需要把数据输出到外部文件。</p> <p>Java中，是通过<strong>流</strong> 处理IO的，这种处理模式称为 <strong>IO流</strong>，IO流是一种顺序读写数据的模式。</p> <p>你可以想象它是一根水管，数据就像水一样， <strong>起点—终点</strong> 可互相流动。</p> <p><img src="https://blog-1253198264.cos.ap-guangzhou.myqcloud.com/image-20210129104236502.png" alt=""></p> <blockquote><p>当然如果站在操作系统的来看，又涉及到用户态、内核态，这里就不聊了。</p> <p>还有就是阻塞、非阻塞 IO、IO多路复用，可以看我之前写的：<a href="https://learnjava.baimuxym.cn/#/articles%5CJava%E5%9F%BA%E7%A1%80%5CIO%E6%A8%A1%E5%9E%8B%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F" target="_blank" rel="noopener noreferrer">https://learnjava.baimuxym.cn/#/articles\Java%E5%9F%BA%E7%A1%80\IO%E6%A8%A1%E5%9E%8B%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="_1-1、流的特点"><a href="#_1-1、流的特点" class="header-anchor">#</a> 1.1、流的特点：</h3> <ol><li>先进先出：最先写入输出流的数据最先被输入流读取到。</li> <li>顺序存取：可以一个接一个地往流中写入一串字节，读出时也将按写入顺序读取一串字节，不能随机访问中间的数据。（<code>RandomAccessFile</code>除外）</li> <li>只读或只写：每个流只能是输入流或输出流的一种，不能同时具备两个功能，输入流只能进行读操作，对输出流只能进行写操作。在一个数据传输通道中，如果既要写入数据，又要读取数据，则要分别提供两个流。</li></ol> <h3 id="_1-2、io流的分类"><a href="#_1-2、io流的分类" class="header-anchor">#</a> 1.2、IO流的分类</h3> <h4 id="_1-1-1、按方向分"><a href="#_1-1-1、按方向分" class="header-anchor">#</a> 1.1.1、按方向分</h4> <p>按数据流的方向分为 <strong>输入流、输出流</strong>，是相对内存来说的。</p> <ul><li><p>输入流：从外部（数据源）把数据输入到程序（内存）。</p></li> <li><p>输出流：把程序的数据（内存）输出到外部（数据源）。</p></li></ul> <p><img src="https://blog-1253198264.cos.ap-guangzhou.myqcloud.com/image-20210129105449996.png" alt=""></p> <h4 id="_1-1-2、按处理数据类型分"><a href="#_1-1-2、按处理数据类型分" class="header-anchor">#</a> 1.1.2、按处理数据类型分</h4> <p>按处理的数据类型可分为 <strong>字节流、字符流</strong></p> <blockquote><p>1字符 = 2字节 、 1字节(byte) = 8位(bit)</p></blockquote> <ul><li>字节流：每次读 （写）一个字节，当传输的资源文件有中文时，就会出现乱码，读写的单位是<code>byte</code>，在<code>InputStream</code>/<code>OutputStream</code>中单向流动</li> <li>字符流：每次读取(写出)两个字节，有中文时，使用该流就可以正确传输显示中文，读写的单位是<code>char</code>，在<code>Reader</code>/<code>Writer</code>中单向流动</li></ul> <p><strong>字节流和字符流的原理是相同的，只不过处理的单位不同而已。后缀是Stream是字节流，而后缀是Reader，Writer是字符流。</strong></p> <p><strong>为什么要有字符流？</strong></p> <p>Java中字符是采用Unicode标准，Unicode 编码中，一个英文为一个字节，一个中文为两个字节。但是编码不同，中文字符占的字节数不一样，而在UTF-8编码中，一个中文字符是3个字节。</p> <p>如果统一使用字节流处理中文，因为读写是一个字节一个字节，这样就会对中文字符有影响，就会出现乱码。</p> <p>为了更方便地处理中文这些字符，Java就推出了字符流。</p> <p>字节流和字符流的其他区别：</p> <ol><li>字节流一般用来处理图像、视频、音频、PPT、Word等类型的文件。字符流一般用于处理纯文本类型的文件，如TXT文件等，但不能处理图像视频等非文本文件。</li></ol> <blockquote><p>用一句话说就是：字节流可以处理一切文件，而字符流只能处理纯文本文件。</p></blockquote> <ol start="2"><li>字节流本身没有缓冲区，<strong>缓冲字节流</strong>相对于<strong>字节流</strong>，效率提升非常高。而<strong>字符流</strong>本身就带有缓冲区，<strong>缓冲字符流</strong>相对于字符流效率提升就不是那么大了。</li></ol> <h4 id="_1-1-3、按功能分"><a href="#_1-1-3、按功能分" class="header-anchor">#</a> 1.1.3、按功能分</h4> <p>按功能不同分为 <strong>节点流、处理流</strong></p> <ul><li><p>节点流：以从或向一个特定的地方（节点）读写数据。如<code>FileInputStream</code></p></li> <li><p>处理流：是对一个已存在的流的连接和封装，通过所封装的流的功能调用实现数据读写。如<code>BufferedReader</code>。处理流的构造方法总是要带一个其他的流对象做参数。一个流对象经过其他流的多次包装.</p></li></ul> <p><img src="https://blog-1253198264.cos.ap-guangzhou.myqcloud.com/image-20210129110127528.png" alt=""></p> <h4 id="_1-1-4、按有无缓冲分"><a href="#_1-1-4、按有无缓冲分" class="header-anchor">#</a> 1.1.4、按有无缓冲分</h4> <p>还有一种流是<strong>缓冲流</strong>，区别于没有缓冲的流。</p> <p>因为程序和内存交互很快，而程序和磁盘交互是很慢的，这样会导致程序出现性能问题。</p> <p>为了减少程序与磁盘的交互，是提升程序效率，引入了<strong>缓冲流</strong>。</p> <p>普通流每次读写一个字节，而缓冲流在内存中设置一个缓存区，缓冲区先存储足够的待操作数据后，再与内存或磁盘进行交互。这样，在总数据量不变的情况下，通过提高每次交互的数据量，减少了交互次数。</p> <p>有缓冲的流，类名前缀是带有Buffer的，比如<code>BufferedInputStream</code>、<code>BufferedReader</code></p> <p><img src="https://blog-1253198264.cos.ap-guangzhou.myqcloud.com/image-20210129110918410.png" alt=""></p> <hr> <h2 id="_2、java-io-流对象详解"><a href="#_2、java-io-流对象详解" class="header-anchor">#</a> 2、Java IO 流对象详解</h2> <p>以上说了这么多流，看起来很复杂，但其实只需要记住以下四种流即可：</p> <table><thead><tr><th></th> <th><strong>输入流</strong></th> <th><strong>输出流</strong></th></tr></thead> <tbody><tr><td><strong>字节流</strong></td> <td>InputStream</td> <td>OutputStream</td></tr> <tr><td><strong>字符流</strong></td> <td>Reader</td> <td>Writer</td></tr></tbody></table> <p>这四个都是抽象类，都位于 <code>java.io</code> 包目录。</p> <p>我们平时使用流去处理数据，<strong>都是通过这四个流的子类展开的</strong>。</p> <p><img src="https://blog-1253198264.cos.ap-guangzhou.myqcloud.com/image-20210129112440603.png" alt=""></p> <p>挑一些常用的放在下面一一讲解。</p> <h3 id="_2-1、inputstream-字节流输入流"><a href="#_2-1、inputstream-字节流输入流" class="header-anchor">#</a> 2.1、InputStream ——字节流输入流</h3> <p><code>InputStream</code> 这个<strong>抽象类</strong>是表示以上输入字节流的所有类的超类（父类）。</p> <p><code>InputStream</code> 中的三个基本的读方法：</p> <ul><li>abstract int read() ：读取一个字节数据，并返回读到的数据，如果返回 -1，表示读到了输入流的末尾。</li> <li>int read(byte[] b) ：将数据读入一个字节数组，同时返回实际读取的字节数。如果返回-1，表示读到了输入流的末尾。</li> <li>int read(byte[] b, int off, int len) ：将数据读入一个字节数组，同时返回实际读取的字节数。如果返回 -1，表示读到了输入流的末尾。off 指定在数组 b 中存放数据的起始偏移位置；len 指定读取的最大字节数。</li></ul> <blockquote><p><code>read()</code>方法 如果已读到末尾，返回<code>-1</code>表示不能继续读取了。</p></blockquote> <p><code>InputStream</code> 的子类有：</p> <ul><li>ByteArrayInputStream</li> <li><strong>FileInputStream</strong></li> <li>FilterInputStream</li> <li>PushbackInputStream</li> <li>DataInputStream</li> <li><strong>BufferedInputStream</strong></li> <li>LineNumberInputStream</li> <li>ObjectInputStream</li> <li>PipedInputStream</li> <li>SequenceInputStream</li> <li>StringBufferInputStream</li></ul> <p>这么多子类不需要每一个都记住，只需要记住两个：</p> <p><strong>FileInputStream</strong></p> <p><code>FileInputStream</code>是文件字节输入流，就是对文件数据以字节的方式来处理，如音乐、视频、图片等。</p> <p><strong>BufferedInputStream</strong></p> <p>使用方式基本和<code>FileInputStream</code>一致。</p> <p><code>BufferedInputStream</code>有一个内部缓冲区数组，一次性读取较多的字节缓存起来，默认读取<code>defaultBufferSize = 8192</code>，作用于读文件时可以提高性能。</p> <h3 id="_2-2、outputstream-字节输出流"><a href="#_2-2、outputstream-字节输出流" class="header-anchor">#</a> 2.2、OutputStream——字节输出流</h3> <p><code>OutputStream</code> 是相对 <code>InputStream</code> 的，既然有输入就有输出。<code>OutputStream</code> 这个<strong>抽象类</strong>是表示以上输出字节流的所有类的超类（父类）。</p> <p><code>OutputStream</code> 中的三个基本的写方法：</p> <ul><li>abstract void write(int b)：往输出流中写入一个字节。</li> <li>void write(byte[] b) ：往输出流中写入数组b中的所有字节。</li> <li>void write(byte[] b, int off, int len) ：往输出流中写入数组 b 中从偏移量 off 开始的 len 个字节的数据。</li></ul> <p>其它重要方法：</p> <ul><li>void flush() ：刷新输出流，强制缓冲区中的输出字节被写出。</li> <li>void close() ：关闭输出流，释放和这个流相关的系统资源。</li></ul> <p><code>OutputStream</code> 的子类有：</p> <ul><li>ByteArrayOutputStream</li> <li><strong>FileOutputStream</strong></li> <li>FilterOutputStream</li> <li><strong>BufferedOutputStream</strong></li> <li>DataOutputStream</li> <li>PrintStream</li> <li>ObjectOutputStream</li> <li>PipedOutputStream</li></ul> <blockquote><p>StringBufferInputStream 和 StringBufferInputStream 已经过时了，这里不介绍了</p></blockquote> <p>FileOutputStream、BufferedOutputStream 和 FileInputStream、BufferedInputStream 是相对的。</p> <h3 id="_2-3、reader-字符输入流"><a href="#_2-3、reader-字符输入流" class="header-anchor">#</a> 2.3、Reader——字符输入流</h3> <p><code>Reader</code> 是所有的输入字符流的父类，它是一个抽象类。</p> <p>常见的子类有：</p> <ul><li><strong>BufferedReader</strong></li> <li>LineNumberReader</li> <li>CharArrayReader</li> <li>FilterReader</li> <li>PushbackReader</li> <li><strong>InputStreamReader</strong></li> <li><strong>FileReader</strong></li> <li>PipedReader</li> <li>StringReader</li></ul> <p>总结：</p> <ol><li>BufferedReader 很明显就是一个装饰器，它和其子类负责装饰其它 Reader 对象。</li> <li>InputStreamReader 是一个连接字节流和字符流的桥梁，它将字节流转变为字符流。</li></ol> <p>Reader 基本的三个读方法（和字节流对应）：</p> <p>(1) public int read() throws IOException; 读取一个字符，返回值为读取的字符。</p> <p>(2) public int read(char cbuf[]) throws IOException; 读取一系列字符到数组 cbuf[]中，返回值为实际读取的字符的数量。</p> <p>(3) public abstract int read(char cbuf[],int off,int len) throws IOException; 读取 len 个字符，从数组 cbuf[] 的下标 off 处开始存放，返回值为实际读取的字符数量，该方法必须由子类实现。</p> <h3 id="_2-4、writer-字符输出流"><a href="#_2-4、writer-字符输出流" class="header-anchor">#</a> 2.4、Writer——字符输出流</h3> <p>Writer 是所有的输出字符流的父类，它是一个抽象类。</p> <p>常见的子类有：</p> <ul><li><strong>BufferedWriter</strong></li> <li>CharArrayWriter</li> <li>FilterWriter</li> <li>OutputStreamWriter</li> <li><strong>FileWriter</strong></li> <li>PipedWriter</li> <li>PrintWriter</li> <li>StringWriter</li></ul> <p>总结：</p> <ol><li>OutputStreamWriter 是 OutputStream 到 Writer 转换的桥梁，它的子类 FileWriter 其实就是一个实现此功能的具体类。</li> <li>BufferedWriter 是一个装饰器为 Writer 提供缓冲功能。</li></ol> <p>writer 的主要写方法：</p> <ol><li>public void write(int c) throws IOException； //写单个字符</li> <li>public void write(char cbuf[]) throws IOException； //将字符数组 cbuf[] 写到输出流 。</li> <li>public abstract void write(char cbuf[],int off,int len) throws IOException； //将字符数组cbuf[]中的从索引为off的位置处开始的len个字符写入输出流 。</li> <li>public void write(String str) throws IOException； //将字符串str中的字符写入输出流 。</li> <li>public void write(String str,int off,int len) throws IOException； //将字符串 str 中从索引 off 开始处的 len 个字符写入输出流 。</li></ol> <hr> <h2 id="_3、使用方法"><a href="#_3、使用方法" class="header-anchor">#</a> 3、使用方法</h2> <h3 id="_3-1、fileoutputstream写文件、fileinputstream读文件"><a href="#_3-1、fileoutputstream写文件、fileinputstream读文件" class="header-anchor">#</a> 3.1、FileOutputStream写文件、FileInputStream读文件</h3> <p>分别为 单个字节写、字节数字写、单个字节读取、字节数组读取、一次性读取：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OutputStreamTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//单个字节写、字节数字写</span>
        <span class="token function">readFile1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//单个字节读取</span>
        <span class="token function">readFile2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//字节数组读取</span>
        <span class="token function">readFile3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//一次性读取</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1、第一种方法写，单个字节写</span>
        <span class="token comment">//会自动创建文件，目录不存在会报错， true 表示 追加写，默认是false</span>
        <span class="token class-name">FileOutputStream</span> fileOutputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\hello.txt&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//往文件里面一个字节一个字节的写入数据</span>
        fileOutputStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token char">'H'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fileOutputStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token char">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fileOutputStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token char">'C'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//2、第二种方法写 字节数组写</span>
        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot; HelloCoder&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">//入文件里面一个字节数组的写入文件，文件为UTF_8格式</span>
        fileOutputStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span>UTF_8<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//刷新流</span>
        fileOutputStream<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//关闭流</span>
        fileOutputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">readFile1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1、第一种读的方法，但字节读</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;------一个字节读------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//传文件夹的名字来创建对象</span>
        <span class="token class-name">FileInputStream</span> fileInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\hello.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> by <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">//一个字节一个字节的读出数据</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>by <span class="token operator">=</span> fileInputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> by<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//关闭流</span>
        fileInputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">readFile2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//2、第二种读的方法，字节数组读</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;------字节数组读------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">FileInputStream</span> fileInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\hello.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//通过File对象来创建对象</span>
        fileInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\hello.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> by <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//一个字节数组的读出数据，高效</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>by <span class="token operator">=</span> fileInputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> by<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> bytes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//关闭流</span>
        fileInputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">readFile3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//3、第三种读方法，一次性读</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;------一次性读文件------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">FileInputStream</span> fileInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\hello.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fileInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\hello.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//一次性读文件</span>
        <span class="token keyword">int</span> iAvail <span class="token operator">=</span> fileInputStream<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> by <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytesAll <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span>iAvail<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>by <span class="token operator">=</span> fileInputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytesAll<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> by<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> bytesAll<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        fileInputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>输出：</p> <div class="language- extra-class"><pre class="language-text"><code>------一个字节读------
HaC HelloCoder
------字节数组读------
HaC HelloCoder
------一次性读文件------
HaC HelloCoder
</code></pre></div><p>这里介绍了三种方法读一个文件，详细的介绍都写在了注释里。</p> <blockquote><p>⚠️ 字符串如果包含中文，就会出现乱码，这是因为FileOutputStream是字节流，将文本按字节写入。</p></blockquote> <h3 id="_3-2、filewriter写文件、filereader读文件"><a href="#_3-2、filewriter写文件、filereader读文件" class="header-anchor">#</a> 3.2、FileWriter写文件、FileReader读文件</h3> <p>分别为 字符串写、单字符读、字符数组读：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReaderTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//字符串写</span>
        <span class="token function">read1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//</span>
        <span class="token function">read2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">FileWriter</span> fileWriter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\Hello1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//为防止乱码，可以这样写，字符流和字节流互转</span>
<span class="token comment">//        Writer fileWriter = new BufferedWriter(new OutputStreamWriter(</span>
<span class="token comment">//                new FileOutputStream(&quot;F:\\Hello1.txt&quot;), StandardCharsets.UTF_8));</span>
        fileWriter<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;今天打工你不狠，明天地位就不稳\n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;今天打工不勤快，明天社会就淘汰&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 如果没有刷新，也没有关闭流的话 数据是不会写入文件的</span>
        fileWriter<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fileWriter<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">read1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;------一个一个char读-------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">FileReader</span> fileReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\Hello1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> ch <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">//一个一个char读</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ch <span class="token operator">=</span> fileReader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            str <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> ch<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">read2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;------char数组[]读-------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">FileReader</span> fileReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\Hello1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> fileReader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>chars<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//这种读有误</span>
<span class="token comment">//            System.out.print(new String(chars));</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>chars<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        fileReader<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>输出：</p> <div class="language- extra-class"><pre class="language-text"><code>------一个一个char读-------
今天打工你不狠，明天地位就不稳
今天打工不勤快，明天社会就淘汰
------char数组[]读-------
今天打工你不狠，明天地位就不稳
今天打工不勤快，明天社会就淘汰
</code></pre></div><p><code>FileWriter</code>、<code>FileReader</code> 可以用来读写一个含中文字符的文件。</p> <p><strong>注意点：</strong></p> <p><strong>1、流转换</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Writer</span> fileWriter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span>
	 <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\Hello1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span>UTF_8<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这里其实是把字节流转换为字符流，用来解决乱码。</p> <p><strong>2、读的位置</strong></p> <p>这里的写法需要注意，因为这里读写是一次性读10个char类型的字符，如果换成以下</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> fileReader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>chars<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//不能这样写</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>chars<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//System.out.print((new String(chars, 0, len)));</span>
<span class="token punctuation">}</span>
</code></pre></div><p>则输出：</p> <div class="language- extra-class"><pre class="language-text"><code>------char数组[]读-------
今天打工你不狠，明天地位就不稳
今天打工不勤快，明天社会就淘汰勤快，明天社会就淘
</code></pre></div><p>可以看到输出不正确，因为一次性读10个char，</p> <p>第一次读的是 <code>今天打工你不狠，明天</code></p> <p>第二次读的是 <code>地位就不稳\n今天打工</code></p> <p>第三次读的是 <code>不勤快，明天社会就淘</code></p> <p>第四次输出是 <code>汰勤快，明天社会就淘</code> ，其实这一次它只读了<code>汰</code> 一个字符，其中 <code>勤快，明天社会就淘</code> 是上一个数组的内容，因为它是已存在在数组的旧数据。</p> <p>所以需要<code>new String(chars, 0, len)</code> ，<code>len</code> 是这次读到的字符长度，只需要截取这次的字符即可。</p> <hr> <p>以上这两个例子中，还需要注意的几个地方：</p> <p>1、只有在写文件的时候才需要<code>flush()</code>方法，而读是不需要的。</p> <p>2、读、写 完毕都需要调用<code>close()</code> 方法关闭流。</p> <p>3、单个字节、字符读写效率较慢，建议使用字节、字符数组读取。</p> <h3 id="_3-3、bufferedinputstream、bufferedoutputstream-缓冲字节流"><a href="#_3-3、bufferedinputstream、bufferedoutputstream-缓冲字节流" class="header-anchor">#</a> 3.3、BufferedInputStream、BufferedOutputStream 缓冲字节流</h3> <p><code>BufferedInputStream</code> 是带缓冲区的，在复制、移动文件操作会快一点。</p> <blockquote><p>建议使用缓冲字节流这不是普通字节流，但构造方法入参还是InputStream和OutputStream。</p></blockquote> <p>Java使用IO 读取文件时，会进入核心态，在调用驱动进行IO，本身就会缓存在系统级别的，当你第二次读取时，会由用户态进入核心态，读取系统缓存。<code>BufferedInputStream</code>就一次性读取较多，缓存起来。</p> <p>这样下次就从缓存中读，而不用在用户态和核心态之间切换，从而提升效率。</p> <p>eg：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InputStrem</span>与<span class="token class-name">BufferenInputStream</span>复制文件 <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">useInputStreamCopyFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//缓冲流复制文件</span>
        <span class="token function">useBufferenInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//普通流复制文件</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">useInputStreamCopyFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\杨超越.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> is <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">File</span> file2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\杨超越_copy.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">OutputStream</span> os <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>file2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> is<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        is<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        os<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">useBufferenInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">BufferedInputStream</span> bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\杨超越.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BufferedOutputStream</span> bos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\杨超越_copy2.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        bos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>结果输出：</p> <p><img src="https://blog-1253198264.cos.ap-guangzhou.myqcloud.com/image-20210203141105472.png" alt=""></p> <h3 id="_3-4、bufferedreader、bufferedwriter-字符缓冲流"><a href="#_3-4、bufferedreader、bufferedwriter-字符缓冲流" class="header-anchor">#</a> 3.4、BufferedReader、BufferedWriter 字符缓冲流</h3> <p><code>BufferedReader</code> 有一个好处，就是它提供了<code>readline()</code>、<code>newLine()</code>方法，可以<strong>按行读取文件</strong>。</p> <p>eg：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BufferedReaderTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">useInputStreamCopyFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//这种方法适用于任何文件</span>
        <span class="token comment">//下面两种方法copy的文件变大了，因为是使用字符流处理的</span>
        <span class="token function">useBufferedReaderCopyFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//这种方法只适用于字符文件</span>
        <span class="token function">useFileReaderCopyFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//这种方法一步到位，只适用于字符文件</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">useInputStreamCopyFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\Hello1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> is <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">File</span> file2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\Hello1_copy1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">OutputStream</span> os <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>file2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> is<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        is<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        os<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">useBufferedReaderCopyFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\Hello1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> is <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Reader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建字符流缓冲区，BufferedReader 的构造入参是一个 Reader</span>
        <span class="token class-name">BufferedReader</span> bufferedReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">File</span> file2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\Hello1_copy2.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">OutputStream</span> os <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>file2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Writer</span> writer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span>os<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建字符流缓冲区，BufferedWriter 的构造入参是一个 Writer</span>
        <span class="token class-name">BufferedWriter</span> bufferedWriter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span>writer<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> line <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token comment">//readLine()方法 是根据\n 换行符读取的</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>line <span class="token operator">=</span> bufferedReader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            bufferedWriter<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//这里要加换行</span>
            bufferedWriter<span class="token punctuation">.</span><span class="token function">newLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        bufferedReader<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bufferedWriter<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">useFileReaderCopyFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//使用FileReader、FileWriter 一步到位</span>
        <span class="token class-name">Reader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\Hello1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BufferedReader</span> bufferedReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Writer</span> writer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\Hello1_copy3.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BufferedWriter</span> bufferedWriter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span>writer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> line <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>line <span class="token operator">=</span> bufferedReader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            bufferedWriter<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
            bufferedWriter<span class="token punctuation">.</span><span class="token function">newLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        bufferedReader<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bufferedWriter<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h2 id="_4、close-与flush"><a href="#_4、close-与flush" class="header-anchor">#</a> 4、close() 与flush()</h2> <p>先上个例子：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FlushTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">FileReader</span> fileReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\Hello1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//大文件</span>
        <span class="token class-name">FileWriter</span> fileWriter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\Hello2.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> readerCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">//一次读取1024个字符</span>
        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">!=</span> <span class="token punctuation">(</span>readerCount <span class="token operator">=</span> fileReader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>chars<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            fileWriter<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>chars<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> readerCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这里并没有调用<code>close()</code>方法。</p> <blockquote><p><code>close()</code>方法包含<code>flush()</code>方法 ，即close会自动flush</p></blockquote> <p>结果：</p> <p><img src="https://blog-1253198264.cos.ap-guangzhou.myqcloud.com/image-20210202160401298.png" alt=""></p> <p>可以看到，复制的文件变小了。</p> <p>明显，数据有丢失，丢失的就是<strong>缓冲区“残余”的数据</strong>。</p> <p>在计算机层面，Java对磁盘进行操作，IO是有缓存的，并不是真正意义上的一边读一边写，底层的落盘（数据真正写到磁盘）另有方法。</p> <p>所以，最后会有一部分数据在内存中，如果不调用<code>flush()</code>方法，数据会随着查询结束而消失，这就是为什么数据丢失使得文件变小了。</p> <blockquote><p>BufferedOutputStream、BufferedFileWriter 同理</p></blockquote> <p>再举个例子：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">FlushTest2</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">FileWriter</span> fileWriter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\Hello3.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fileWriter<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;今天打工你不狠，明天地位就不稳\n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;今天打工不勤快，明天社会就淘汰&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>不调用flush()方法你会发现，文件是空白的，没有把数据写进来，也是因为数据在内存中而不是落盘到磁盘了。</p> <p>所以为了实时性和安全性，IO在写操作的时候，需要调用<code>flush()</code>或者<code>close()</code></p> <p><img src="https://blog-1253198264.cos.ap-guangzhou.myqcloud.com/image-20210202162909660.png" alt=""></p> <p><code>close()</code> 和<code>flush()</code>的区别：</p> <ul><li>关<code>close()</code>是闭流对象，但是会先刷新一次缓冲区，关闭之后，流对象不可以继续再使用了，否则报空指针异常。</li> <li><code>flush()</code>仅仅是刷新缓冲区，准确的说是**&quot;强制写出缓冲区的数据&quot;**，流对象还可以继续使用。</li></ul> <p>总结一下：</p> <p>Java的IO有一个 缓冲区 的概念，不是Buffer概念的缓冲区。</p> <p>如果是文件读写完的同时缓冲区<strong>刚好装满</strong> , 那么缓冲区会把里面的数据朝目标文件自动进行读或写（这就是为什么总剩下有一点没写完） , 这种时候你不调用<code>close()</code>方法也0不会出现问题 ;</p> <p>如果文件在读写完成时 , 缓冲区<strong>没有装满</strong>，也没有<code>flush()</code>， 这个时候装在缓冲区的数据就不会自动的朝目标文件进行读或写 , 从而造成缓冲区中的这部分数据丢失 , 所以这个是时候就需要在<code>close()</code>之前先调用<code>flush()</code>方法 , 手动使缓冲区数据读写到目标文件。</p> <p>举个很形象的例子加深理解：</p> <p>我从<strong>黄桶</strong>（<code>读</code>）通过<strong>水泵</strong>（管道）把水抽到<strong>绿桶</strong>（<code>写</code>），水管就相当于<strong>缓冲区</strong>，当我看到<strong>黄桶</strong>水没有了，我立马关了水泵，但发现<strong>水管</strong>里还有水没有流到<strong>绿桶</strong>，这些残留的水就相当于内存中丢失的数据。</p> <p>如果此时我再把<strong>水泵</strong>打开，此时水管里面丢失的水（丢失的数据）又流到了<strong>绿桶</strong>，这就相当于调用了<code>flush()</code>方法。</p> <p><img src="https://blog-1253198264.cos.ap-guangzhou.myqcloud.com/image-20210202165332796.png" alt=""></p> <hr> <h2 id="_5、总结"><a href="#_5、总结" class="header-anchor">#</a> 5、总结</h2> <p>写了这么多，IO确实是挺复杂的，一般的业务需求是读写文件，其实更多的是生成文件、复制文件、移动文件。所以如何选择IO流，是需要我们掌握的。</p> <p>1、字节流是原生的操作，字符流是经过处理后的操作。</p> <p>输入：<code>Reader, InputStream</code>类型的子类</p> <p>输出：<code>Writer, OutputStream</code>类型的子类</p> <p>2、字节流一般用来处理图像、视频、音频、PPT、Word等类型的文件。字符流一般用于处理纯文本类型的文件，如TXT文件等，但不能处理图像视频等非文本文件。</p> <blockquote><p>用一句话说就是：字节流可以处理一切文件，而字符流只能处理纯文本文件。</p></blockquote> <p>含有汉子的文件就使用字符流处理。</p> <p>3、需要转换？是，使用转换流；是否需要高效，使用缓冲流。</p> <p>4、使用流之后一定要<code>close()</code>。</p> <blockquote><p>部分参考来自：</p> <p>https://blog.csdn.net/mu_wind/article/details/108674284</p> <p>https://blog.csdn.net/sinat_37064286/article/details/86537354</p></blockquote></div></div> <div class="read-more-wrap" style="display:none;position:absolute;bottom:0px;z-index:9999;width:100%;margin-top:-100px;font-family:PingFangSC-Regular, sans-serif;"><div id="read-more-mask" style="position: relative; height: 300px; background:-webkit-gradient(linear, 0 0%, 0 50%, from(rgba(255, 255, 255, 0)), to(rgb(255 255 255 / 82%)));"></div> <a id="read-more-btn" target="_self" style="position: absolute; left: 50%; top: 50%; bottom: 30px; transform: translate(-50%, -50%); width: 160px; height: 36px; line-height: 36px; font-size: 15px; text-align: center; border: 1px solid rgb(222, 104, 109); color: rgb(222, 104, 109); background: rgb(255, 255, 255); cursor: pointer; border-radius: 6px;"><span id="read-more-text">阅读全文</span> <br style="display:none;"> <span id="read-more-text_remainder"></span></a> <div id="btw-modal-wrap" style="display: none;"><div id="btw-mask" style="position: fixed; top: 0px; right: 0px; bottom: 0px; left: 0px; opacity: 0.7; z-index: 999; background: rgb(0, 0, 0);"></div> <div id="btw-modal" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 300px; text-align: center; font-size: 13px; background: rgb(255, 255, 255); border-radius: 10px; z-index: 9999; font-family: PingFangSC-Regular, sans-serif;"><span id="btw-modal-close-btn" style="position: absolute; top: 5px; right: 15px; line-height: 34px; font-size: 34px; cursor: pointer; opacity: 0.2; z-index: 9999; color: rgb(0, 0, 0); background: none; border: none; outline: none;">×</span> <p id="btw-modal-header" style="margin-top: 40px; line-height: 1.8; font-size: 13px;">
                  （为防止恶意爬虫）
                  <br>
                  扫码或搜索：<span style="color: #E9405A; font-weight: bold;">HelloCoder</span> <br>发送：<span id="fustack-token" class="token" style="color: #e9415a; font-weight: bold; font-size: 17px; margin-bottom: 45px;">290992</span> <br>即可<span style="color: #e9415a; font-weight: bold;">永久解锁</span>本站全部文章</p> <img src="/img/site/HelloCoder.png" style="width: 180px; margin-top: 10px; margin-bottom: 30px; border: 8px solid rgb(230, 230, 230);"> <div class="input-password"><input id="input_password" autocomplete="off" placeholder="请输入密码"> <span><a id="check_password" target="_self" class="btn-password"> 解锁 </a></span></div></div></div></div>  <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=IO" title="标签">#IO</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023-12-12 15:30:20</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/Java%E5%8F%8D%E5%B0%84/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Java反射</div></a> <a href="/pages/Java8%E4%B9%8BOptional/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Java8之Optional</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/Java%E5%8F%8D%E5%B0%84/" class="prev">Java反射</a></span> <span class="next"><a href="/pages/Java8%E4%B9%8BOptional/">Java8之Optional</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/%E3%80%8ALeetCode%20101%E3%80%8B/"><div>
            《LeetCode 101》
            <!----></div></a> <span class="date">12-12</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/%E3%80%8ALeetCode%20CookBook%E3%80%8B/"><div>
            《LeetCode CookBook》
            <!----></div></a> <span class="date">12-12</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/IDEA%E3%80%81Golang%E3%80%81Pycharm%E7%A0%B4%E8%A7%A3%E5%AE%89%E8%A3%85/"><div>
            IDEA、Golang、Pycharm破解安装
            <!----></div></a> <span class="date">12-12</span></dt></dl> <dl><dd></dd> <dt><a href="/archives" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:huangyongwen0306@163.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://www.zhihu.com/people/dai-ma-coder" title="知乎" target="_blank" class="iconfont icon-zhihu"></a><a href="/img/site/HelloCoder.png" title="微信公众号" target="_blank" class="iconfont icon-weixin"></a></div> 
    Theme by
    <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
      | Copyright © 2020-2023
      <span>码农阿雨</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d77444f0.js" defer></script><script src="/assets/js/3.1afe0ff4.js" defer></script><script src="/assets/js/4.5ef4a10c.js" defer></script><script src="/assets/js/223.0dd22f9e.js" defer></script>
  </body>
</html>
